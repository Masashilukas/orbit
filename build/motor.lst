ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"motor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.readEncoder,"ax",%progbits
  18              		.align	1
  19              		.global	readEncoder
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	readEncoder:
  27              	.LVL0:
  28              	.LFB329:
  29              		.file 1 "Core/Src/motor.c"
   1:Core/Src/motor.c **** #include "motor.h"
   2:Core/Src/motor.c **** #include "stdbool.h"
   3:Core/Src/motor.c **** #include "math.h"
   4:Core/Src/motor.c **** #include <stdint.h>
   5:Core/Src/motor.c **** #define MP6543_SHUNT_RESISTOR   6800.0f
   6:Core/Src/motor.c **** #define MP6543_IGAIN            9200.0f
   7:Core/Src/motor.c **** #define ADC_VREF                3.3f
   8:Core/Src/motor.c **** #define CAL_CYCLES              2000
   9:Core/Src/motor.c **** float CURRENT_FILTER_CONST =    7500.0f;
  10:Core/Src/motor.c **** void _drive_u(motor_t* m);
  11:Core/Src/motor.c **** void _drive_v(motor_t* m);
  12:Core/Src/motor.c **** void _drive_w(motor_t* m);
  13:Core/Src/motor.c **** void _drive_uv(motor_t* m);
  14:Core/Src/motor.c **** void _drive_vw(motor_t* m);
  15:Core/Src/motor.c **** void _drive_wu(motor_t* m);
  16:Core/Src/motor.c **** uint16_t readEncoder(motor_t* m){
  30              		.loc 1 16 33 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 16 33 is_stmt 0 view .LVU1
  35 0000 00B5     		push	{lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 4
  38              		.cfi_offset 14, -4
  39 0002 83B0     		sub	sp, sp, #12
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 16
  17:Core/Src/motor.c **** 	uint16_t buffer;
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 2


  42              		.loc 1 17 2 is_stmt 1 view .LVU2
  18:Core/Src/motor.c **** 	HAL_SPI_Receive(m->encoder, &buffer, 1, 100); // one 12 bit byte 10 ms timeout
  43              		.loc 1 18 2 view .LVU3
  44 0004 6423     		movs	r3, #100
  45 0006 0122     		movs	r2, #1
  46 0008 0DF10601 		add	r1, sp, #6
  47 000c C06C     		ldr	r0, [r0, #76]
  48              	.LVL1:
  49              		.loc 1 18 2 is_stmt 0 view .LVU4
  50 000e FFF7FEFF 		bl	HAL_SPI_Receive
  51              	.LVL2:
  19:Core/Src/motor.c **** 	return buffer;
  52              		.loc 1 19 2 is_stmt 1 view .LVU5
  20:Core/Src/motor.c **** }
  53              		.loc 1 20 1 is_stmt 0 view .LVU6
  54 0012 BDF80600 		ldrh	r0, [sp, #6]
  55 0016 03B0     		add	sp, sp, #12
  56              	.LCFI2:
  57              		.cfi_def_cfa_offset 4
  58              		@ sp needed
  59 0018 5DF804FB 		ldr	pc, [sp], #4
  60              		.cfi_endproc
  61              	.LFE329:
  63              		.section	.text.readHalls,"ax",%progbits
  64              		.align	1
  65              		.global	readHalls
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  69              		.fpu fpv4-sp-d16
  71              	readHalls:
  72              	.LVL3:
  73              	.LFB331:
  21:Core/Src/motor.c **** void getAngle(motor_t* m){
  22:Core/Src/motor.c **** 	readHalls(m);
  23:Core/Src/motor.c **** 	//uint16_t encoderVal;
  24:Core/Src/motor.c **** 	//encoderVal = readEncoder(m);
  25:Core/Src/motor.c **** 	//double angle =((double)(encoderVal/ 4096)*360.0f);
  26:Core/Src/motor.c **** 	//double angle = (motor.hallspeed * 2 * 3.14159);
  27:Core/Src/motor.c **** 	//m->angle = angle;
  28:Core/Src/motor.c **** }
  29:Core/Src/motor.c **** void readHalls(motor_t* m){
  74              		.loc 1 29 27 is_stmt 1 view -0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		.loc 1 29 27 is_stmt 0 view .LVU8
  79 0000 70B5     		push	{r4, r5, r6, lr}
  80              	.LCFI3:
  81              		.cfi_def_cfa_offset 16
  82              		.cfi_offset 4, -16
  83              		.cfi_offset 5, -12
  84              		.cfi_offset 6, -8
  85              		.cfi_offset 14, -4
  86 0002 0546     		mov	r5, r0
  30:Core/Src/motor.c **** 	int hall1 = HAL_GPIO_ReadPin(m->hallPins[0].gpioGroup, m->hallPins[0].gpioPin);
  87              		.loc 1 30 2 is_stmt 1 view .LVU9
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 3


  88              		.loc 1 30 14 is_stmt 0 view .LVU10
  89 0004 0189     		ldrh	r1, [r0, #8]
  90 0006 4068     		ldr	r0, [r0, #4]
  91              	.LVL4:
  92              		.loc 1 30 14 view .LVU11
  93 0008 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  94              	.LVL5:
  95 000c 0646     		mov	r6, r0
  96              	.LVL6:
  31:Core/Src/motor.c **** 	int hall2 = HAL_GPIO_ReadPin(m->hallPins[1].gpioGroup, m->hallPins[1].gpioPin);
  97              		.loc 1 31 2 is_stmt 1 view .LVU12
  98              		.loc 1 31 14 is_stmt 0 view .LVU13
  99 000e 298A     		ldrh	r1, [r5, #16]
 100 0010 E868     		ldr	r0, [r5, #12]
 101              	.LVL7:
 102              		.loc 1 31 14 view .LVU14
 103 0012 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 104              	.LVL8:
 105 0016 0446     		mov	r4, r0
 106              	.LVL9:
  32:Core/Src/motor.c **** 	int hall3 = HAL_GPIO_ReadPin(m->hallPins[2].gpioGroup, m->hallPins[2].gpioPin);
 107              		.loc 1 32 2 is_stmt 1 view .LVU15
 108              		.loc 1 32 14 is_stmt 0 view .LVU16
 109 0018 298B     		ldrh	r1, [r5, #24]
 110 001a 6869     		ldr	r0, [r5, #20]
 111              	.LVL10:
 112              		.loc 1 32 14 view .LVU17
 113 001c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 114              	.LVL11:
  33:Core/Src/motor.c **** 
  34:Core/Src/motor.c **** 	//altered hall inputs	
  35:Core/Src/motor.c ****     switch((hall3<<2)|(hall2<<1)|(hall1))
 115              		.loc 1 35 5 is_stmt 1 view .LVU18
 116              		.loc 1 35 29 is_stmt 0 view .LVU19
 117 0020 6400     		lsls	r4, r4, #1
 118              	.LVL12:
 119              		.loc 1 35 22 view .LVU20
 120 0022 44EA8004 		orr	r4, r4, r0, lsl #2
 121              		.loc 1 35 33 view .LVU21
 122 0026 44EA0603 		orr	r3, r4, r6
 123 002a 013B     		subs	r3, r3, #1
 124 002c 052B     		cmp	r3, #5
 125 002e 35D8     		bhi	.L4
 126 0030 DFE803F0 		tbb	[pc, r3]
 127              	.L6:
 128 0034 23       		.byte	(.L11-.L6)/2
 129 0035 13       		.byte	(.L10-.L6)/2
 130 0036 1B       		.byte	(.L9-.L6)/2
 131 0037 03       		.byte	(.L8-.L6)/2
 132 0038 2B       		.byte	(.L7-.L6)/2
 133 0039 0B       		.byte	(.L5-.L6)/2
 134              		.p2align 1
 135              	.L8:
  36:Core/Src/motor.c ****     {
  37:Core/Src/motor.c ****         case 0b100:
  38:Core/Src/motor.c ****             m->angle = 0.0f;
 136              		.loc 1 38 13 is_stmt 1 view .LVU22
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 4


 137              		.loc 1 38 22 is_stmt 0 view .LVU23
 138 003a 0022     		movs	r2, #0
 139 003c 0023     		movs	r3, #0
 140 003e C5E91823 		strd	r2, [r5, #96]
  39:Core/Src/motor.c ****             m->hallState = 0b100;
 141              		.loc 1 39 13 is_stmt 1 view .LVU24
 142              		.loc 1 39 26 is_stmt 0 view .LVU25
 143 0042 0423     		movs	r3, #4
 144 0044 85F85230 		strb	r3, [r5, #82]
  40:Core/Src/motor.c ****             break;
 145              		.loc 1 40 13 is_stmt 1 view .LVU26
 146              	.L3:
  41:Core/Src/motor.c ****         case 0b110:
  42:Core/Src/motor.c ****             m->angle = 60.0f;
  43:Core/Src/motor.c ****             m->hallState = 0b110;
  44:Core/Src/motor.c ****             break;
  45:Core/Src/motor.c ****         case 0b010:
  46:Core/Src/motor.c ****             m->angle = 120.0f;
  47:Core/Src/motor.c ****             m->hallState = 0b010;
  48:Core/Src/motor.c ****             break;
  49:Core/Src/motor.c ****         case 0b011:
  50:Core/Src/motor.c ****             m->angle = 180.0f;
  51:Core/Src/motor.c ****             m->hallState = 0b011;
  52:Core/Src/motor.c ****             break;
  53:Core/Src/motor.c ****         case 0b001:
  54:Core/Src/motor.c ****             m->angle = 240.0f;
  55:Core/Src/motor.c ****             m->hallState = 0b001;
  56:Core/Src/motor.c ****             break;
  57:Core/Src/motor.c ****         case 0b101:
  58:Core/Src/motor.c ****             m->angle = 300.0f;
  59:Core/Src/motor.c ****             m->hallState = 0b101;
  60:Core/Src/motor.c ****             break;
  61:Core/Src/motor.c ****         default:
  62:Core/Src/motor.c ****             m->invalidCts++;
  63:Core/Src/motor.c ****             return;
  64:Core/Src/motor.c ****     }
  65:Core/Src/motor.c ****     //m->lastHallState = m->hallState;
  66:Core/Src/motor.c ****   return;
  67:Core/Src/motor.c **** }
 147              		.loc 1 67 1 is_stmt 0 view .LVU27
 148 0048 70BD     		pop	{r4, r5, r6, pc}
 149              	.LVL13:
 150              	.L5:
  42:Core/Src/motor.c ****             m->hallState = 0b110;
 151              		.loc 1 42 13 is_stmt 1 view .LVU28
  42:Core/Src/motor.c ****             m->hallState = 0b110;
 152              		.loc 1 42 22 is_stmt 0 view .LVU29
 153 004a 0022     		movs	r2, #0
 154 004c 184B     		ldr	r3, .L14+8
 155 004e C5E91823 		strd	r2, [r5, #96]
  43:Core/Src/motor.c ****             break;
 156              		.loc 1 43 13 is_stmt 1 view .LVU30
  43:Core/Src/motor.c ****             break;
 157              		.loc 1 43 26 is_stmt 0 view .LVU31
 158 0052 0623     		movs	r3, #6
 159 0054 85F85230 		strb	r3, [r5, #82]
  44:Core/Src/motor.c ****         case 0b010:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 5


 160              		.loc 1 44 13 is_stmt 1 view .LVU32
 161 0058 F6E7     		b	.L3
 162              	.L10:
  46:Core/Src/motor.c ****             m->hallState = 0b010;
 163              		.loc 1 46 13 view .LVU33
  46:Core/Src/motor.c ****             m->hallState = 0b010;
 164              		.loc 1 46 22 is_stmt 0 view .LVU34
 165 005a 0022     		movs	r2, #0
 166 005c 154B     		ldr	r3, .L14+12
 167 005e C5E91823 		strd	r2, [r5, #96]
  47:Core/Src/motor.c ****             break;
 168              		.loc 1 47 13 is_stmt 1 view .LVU35
  47:Core/Src/motor.c ****             break;
 169              		.loc 1 47 26 is_stmt 0 view .LVU36
 170 0062 0223     		movs	r3, #2
 171 0064 85F85230 		strb	r3, [r5, #82]
  48:Core/Src/motor.c ****         case 0b011:
 172              		.loc 1 48 13 is_stmt 1 view .LVU37
 173 0068 EEE7     		b	.L3
 174              	.L9:
  50:Core/Src/motor.c ****             m->hallState = 0b011;
 175              		.loc 1 50 13 view .LVU38
  50:Core/Src/motor.c ****             m->hallState = 0b011;
 176              		.loc 1 50 22 is_stmt 0 view .LVU39
 177 006a 0022     		movs	r2, #0
 178 006c 124B     		ldr	r3, .L14+16
 179 006e C5E91823 		strd	r2, [r5, #96]
  51:Core/Src/motor.c ****             break;
 180              		.loc 1 51 13 is_stmt 1 view .LVU40
  51:Core/Src/motor.c ****             break;
 181              		.loc 1 51 26 is_stmt 0 view .LVU41
 182 0072 0323     		movs	r3, #3
 183 0074 85F85230 		strb	r3, [r5, #82]
  52:Core/Src/motor.c ****         case 0b001:
 184              		.loc 1 52 13 is_stmt 1 view .LVU42
 185 0078 E6E7     		b	.L3
 186              	.L11:
  54:Core/Src/motor.c ****             m->hallState = 0b001;
 187              		.loc 1 54 13 view .LVU43
  54:Core/Src/motor.c ****             m->hallState = 0b001;
 188              		.loc 1 54 22 is_stmt 0 view .LVU44
 189 007a 0022     		movs	r2, #0
 190 007c 0F4B     		ldr	r3, .L14+20
 191 007e C5E91823 		strd	r2, [r5, #96]
  55:Core/Src/motor.c ****             break;
 192              		.loc 1 55 13 is_stmt 1 view .LVU45
  55:Core/Src/motor.c ****             break;
 193              		.loc 1 55 26 is_stmt 0 view .LVU46
 194 0082 0123     		movs	r3, #1
 195 0084 85F85230 		strb	r3, [r5, #82]
  56:Core/Src/motor.c ****         case 0b101:
 196              		.loc 1 56 13 is_stmt 1 view .LVU47
 197 0088 DEE7     		b	.L3
 198              	.L7:
  58:Core/Src/motor.c ****             m->hallState = 0b101;
 199              		.loc 1 58 13 view .LVU48
  58:Core/Src/motor.c ****             m->hallState = 0b101;
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 6


 200              		.loc 1 58 22 is_stmt 0 view .LVU49
 201 008a 07A3     		adr	r3, .L14
 202 008c D3E90023 		ldrd	r2, [r3]
 203 0090 C5E91823 		strd	r2, [r5, #96]
  59:Core/Src/motor.c ****             break;
 204              		.loc 1 59 13 is_stmt 1 view .LVU50
  59:Core/Src/motor.c ****             break;
 205              		.loc 1 59 26 is_stmt 0 view .LVU51
 206 0094 0523     		movs	r3, #5
 207 0096 85F85230 		strb	r3, [r5, #82]
  60:Core/Src/motor.c ****         default:
 208              		.loc 1 60 13 is_stmt 1 view .LVU52
 209 009a D5E7     		b	.L3
 210              	.L4:
  62:Core/Src/motor.c ****             return;
 211              		.loc 1 62 13 view .LVU53
  62:Core/Src/motor.c ****             return;
 212              		.loc 1 62 14 is_stmt 0 view .LVU54
 213 009c D5F89830 		ldr	r3, [r5, #152]
  62:Core/Src/motor.c ****             return;
 214              		.loc 1 62 26 view .LVU55
 215 00a0 0133     		adds	r3, r3, #1
 216 00a2 C5F89830 		str	r3, [r5, #152]
  63:Core/Src/motor.c ****     }
 217              		.loc 1 63 13 is_stmt 1 view .LVU56
 218 00a6 CFE7     		b	.L3
 219              	.L15:
 220              		.align	3
 221              	.L14:
 222 00a8 00000000 		.word	0
 223 00ac 00C07240 		.word	1081262080
 224 00b0 00004E40 		.word	1078853632
 225 00b4 00005E40 		.word	1079902208
 226 00b8 00806640 		.word	1080459264
 227 00bc 00006E40 		.word	1080950784
 228              		.cfi_endproc
 229              	.LFE331:
 231              		.section	.text.getAngle,"ax",%progbits
 232              		.align	1
 233              		.global	getAngle
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv4-sp-d16
 239              	getAngle:
 240              	.LVL14:
 241              	.LFB330:
  21:Core/Src/motor.c **** 	readHalls(m);
 242              		.loc 1 21 26 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
  21:Core/Src/motor.c **** 	readHalls(m);
 246              		.loc 1 21 26 is_stmt 0 view .LVU58
 247 0000 08B5     		push	{r3, lr}
 248              	.LCFI4:
 249              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 7


 250              		.cfi_offset 3, -8
 251              		.cfi_offset 14, -4
  22:Core/Src/motor.c **** 	//uint16_t encoderVal;
 252              		.loc 1 22 2 is_stmt 1 view .LVU59
 253 0002 FFF7FEFF 		bl	readHalls
 254              	.LVL15:
  28:Core/Src/motor.c **** void readHalls(motor_t* m){
 255              		.loc 1 28 1 is_stmt 0 view .LVU60
 256 0006 08BD     		pop	{r3, pc}
 257              		.cfi_endproc
 258              	.LFE330:
 260              		.section	.text._adcHandler,"ax",%progbits
 261              		.align	1
 262              		.global	_adcHandler
 263              		.syntax unified
 264              		.thumb
 265              		.thumb_func
 266              		.fpu fpv4-sp-d16
 268              	_adcHandler:
 269              	.LVL16:
 270              	.LFB332:
  68:Core/Src/motor.c **** void _adcHandler(motor_t* m)
  69:Core/Src/motor.c **** {
 271              		.loc 1 69 1 is_stmt 1 view -0
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 0
 274              		@ frame_needed = 0, uses_anonymous_args = 0
 275              		@ link register save eliminated.
  70:Core/Src/motor.c ****     m->iuDat =  MP6543_IGAIN * ADC_VREF * ((m->adcData[0]/4096.0f)/MP6543_SHUNT_RESISTOR);
 276              		.loc 1 70 5 view .LVU62
 277              		.loc 1 70 58 is_stmt 0 view .LVU63
 278 0000 D0ED107A 		vldr.32	s15, [r0, #64]	@ int
 279 0004 B8EE677A 		vcvt.f32.u32	s14, s15
 280 0008 DFED135A 		vldr.32	s11, .L19
 281 000c 27EE257A 		vmul.f32	s14, s14, s11
 282              		.loc 1 70 67 view .LVU64
 283 0010 9FED126A 		vldr.32	s12, .L19+4
 284 0014 C7EE067A 		vdiv.f32	s15, s14, s12
 285              		.loc 1 70 41 view .LVU65
 286 0018 DFED116A 		vldr.32	s13, .L19+8
 287 001c 67EEA67A 		vmul.f32	s15, s15, s13
 288              		.loc 1 70 14 view .LVU66
 289 0020 C0ED1A7A 		vstr.32	s15, [r0, #104]
  71:Core/Src/motor.c ****     m->ivDat =  MP6543_IGAIN * ADC_VREF * ((m->adcData[1]/4096.0f)/MP6543_SHUNT_RESISTOR);
 290              		.loc 1 71 5 is_stmt 1 view .LVU67
 291              		.loc 1 71 58 is_stmt 0 view .LVU68
 292 0024 D0ED117A 		vldr.32	s15, [r0, #68]	@ int
 293 0028 B8EE677A 		vcvt.f32.u32	s14, s15
 294 002c 27EE257A 		vmul.f32	s14, s14, s11
 295              		.loc 1 71 67 view .LVU69
 296 0030 C7EE067A 		vdiv.f32	s15, s14, s12
 297              		.loc 1 71 41 view .LVU70
 298 0034 67EEA67A 		vmul.f32	s15, s15, s13
 299              		.loc 1 71 14 view .LVU71
 300 0038 C0ED1B7A 		vstr.32	s15, [r0, #108]
  72:Core/Src/motor.c ****     m->iwDat =  MP6543_IGAIN * ADC_VREF * ((m->adcData[2]/4096.0f)/MP6543_SHUNT_RESISTOR);
 301              		.loc 1 72 5 is_stmt 1 view .LVU72
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 8


 302              		.loc 1 72 58 is_stmt 0 view .LVU73
 303 003c D0ED127A 		vldr.32	s15, [r0, #72]	@ int
 304 0040 F8EE677A 		vcvt.f32.u32	s15, s15
 305 0044 67EEA57A 		vmul.f32	s15, s15, s11
 306              		.loc 1 72 67 view .LVU74
 307 0048 87EE867A 		vdiv.f32	s14, s15, s12
 308              		.loc 1 72 41 view .LVU75
 309 004c 67EE267A 		vmul.f32	s15, s14, s13
 310              		.loc 1 72 14 view .LVU76
 311 0050 C0ED1C7A 		vstr.32	s15, [r0, #112]
  73:Core/Src/motor.c ****     //ADC data is taken in scanning mode resulting in a array of 3 adc values
  74:Core/Src/motor.c ****     return;
 312              		.loc 1 74 5 is_stmt 1 view .LVU77
  75:Core/Src/motor.c **** }
 313              		.loc 1 75 1 is_stmt 0 view .LVU78
 314 0054 7047     		bx	lr
 315              	.L20:
 316 0056 00BF     		.align	2
 317              	.L19:
 318 0058 00008039 		.word	964689920
 319 005c 0080D445 		.word	1171554304
 320 0060 0030ED46 		.word	1189949440
 321              		.cfi_endproc
 322              	.LFE332:
 324              		.global	__aeabi_f2d
 325              		.global	__aeabi_d2uiz
 326              		.section	.text.MOTOR_init,"ax",%progbits
 327              		.align	1
 328              		.global	MOTOR_init
 329              		.syntax unified
 330              		.thumb
 331              		.thumb_func
 332              		.fpu fpv4-sp-d16
 334              	MOTOR_init:
 335              	.LVL17:
 336              	.LFB333:
  76:Core/Src/motor.c **** /**
  77:Core/Src/motor.c ****  * @brief Initialize the motor control structure
  78:Core/Src/motor.c ****  *
  79:Core/Src/motor.c ****  * @param m A pointer to a motor_t struct (not a vicproto MotorState!) that is already initialized 
  80:Core/Src/motor.c ****  */
  81:Core/Src/motor.c **** void MOTOR_init(motor_t* m)
  82:Core/Src/motor.c **** {
 337              		.loc 1 82 1 is_stmt 1 view -0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		.loc 1 82 1 is_stmt 0 view .LVU80
 342 0000 38B5     		push	{r3, r4, r5, lr}
 343              	.LCFI5:
 344              		.cfi_def_cfa_offset 16
 345              		.cfi_offset 3, -16
 346              		.cfi_offset 4, -12
 347              		.cfi_offset 5, -8
 348              		.cfi_offset 14, -4
 349 0002 2DED028B 		vpush.64	{d8}
 350              	.LCFI6:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 9


 351              		.cfi_def_cfa_offset 24
 352              		.cfi_offset 80, -24
 353              		.cfi_offset 81, -20
 354 0006 0446     		mov	r4, r0
  83:Core/Src/motor.c ****     HAL_TIM_PWM_Start(m->pwm, TIM_CHANNEL_1);
 355              		.loc 1 83 5 is_stmt 1 view .LVU81
 356 0008 0021     		movs	r1, #0
 357 000a 0068     		ldr	r0, [r0]
 358              	.LVL18:
 359              		.loc 1 83 5 is_stmt 0 view .LVU82
 360 000c FFF7FEFF 		bl	HAL_TIM_PWM_Start
 361              	.LVL19:
  84:Core/Src/motor.c ****     HAL_TIM_PWM_Start(m->pwm, TIM_CHANNEL_2);
 362              		.loc 1 84 5 is_stmt 1 view .LVU83
 363 0010 0421     		movs	r1, #4
 364 0012 2068     		ldr	r0, [r4]
 365 0014 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 366              	.LVL20:
  85:Core/Src/motor.c ****     HAL_TIM_PWM_Start(m->pwm, TIM_CHANNEL_3);
 367              		.loc 1 85 5 view .LVU84
 368 0018 0821     		movs	r1, #8
 369 001a 2068     		ldr	r0, [r4]
 370 001c FFF7FEFF 		bl	HAL_TIM_PWM_Start
 371              	.LVL21:
  86:Core/Src/motor.c ****     //HAL_ADCEx_Calibration_Start(m->adc, ADC_SINGLE_ENDED);
  87:Core/Src/motor.c ****     double temp = m->dutyCycle;
 372              		.loc 1 87 5 view .LVU85
 373              		.loc 1 87 20 is_stmt 0 view .LVU86
 374 0020 D4ED218A 		vldr.32	s17, [r4, #132]
 375              	.LVL22:
  88:Core/Src/motor.c ****     m->dutyCycle = 1;
 376              		.loc 1 88 5 is_stmt 1 view .LVU87
 377              		.loc 1 88 18 is_stmt 0 view .LVU88
 378 0024 4FF07E53 		mov	r3, #1065353216
 379 0028 C4F88430 		str	r3, [r4, #132]	@ float
  89:Core/Src/motor.c ****     m->pwm->Instance->CCR1 = round(255 * m->dutyCycle);
 380              		.loc 1 89 5 is_stmt 1 view .LVU89
 381              		.loc 1 89 6 is_stmt 0 view .LVU90
 382 002c 2368     		ldr	r3, [r4]
 383              		.loc 1 89 11 view .LVU91
 384 002e 1B68     		ldr	r3, [r3]
 385              		.loc 1 89 28 view .LVU92
 386 0030 FF22     		movs	r2, #255
 387 0032 5A63     		str	r2, [r3, #52]
  90:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 388              		.loc 1 90 5 is_stmt 1 view .LVU93
 389 0034 0122     		movs	r2, #1
 390 0036 218C     		ldrh	r1, [r4, #32]
 391 0038 E069     		ldr	r0, [r4, #28]
 392 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 393              	.LVL23:
  91:Core/Src/motor.c ****     m->pwm->Instance->CCR2 = 0;
 394              		.loc 1 91 5 view .LVU94
 395              		.loc 1 91 6 is_stmt 0 view .LVU95
 396 003e 2368     		ldr	r3, [r4]
 397              		.loc 1 91 11 view .LVU96
 398 0040 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 10


 399              		.loc 1 91 28 view .LVU97
 400 0042 0022     		movs	r2, #0
 401 0044 9A63     		str	r2, [r3, #56]
  92:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 402              		.loc 1 92 5 is_stmt 1 view .LVU98
 403 0046 0122     		movs	r2, #1
 404 0048 218D     		ldrh	r1, [r4, #40]
 405 004a 606A     		ldr	r0, [r4, #36]
 406 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 407              	.LVL24:
  93:Core/Src/motor.c ****     m->dutyCycle = temp;
 408              		.loc 1 93 5 view .LVU99
 409              		.loc 1 93 18 is_stmt 0 view .LVU100
 410 0050 C4ED218A 		vstr.32	s17, [r4, #132]
  94:Core/Src/motor.c ****     m->pwm->Instance->CCR1 = round(255 * m->dutyCycle);
 411              		.loc 1 94 5 is_stmt 1 view .LVU101
 412              		.loc 1 94 40 is_stmt 0 view .LVU102
 413 0054 9FED1D8A 		vldr.32	s16, .L23
 414              		.loc 1 94 30 view .LVU103
 415 0058 68EE887A 		vmul.f32	s15, s17, s16
 416 005c 17EE900A 		vmov	r0, s15
 417 0060 FFF7FEFF 		bl	__aeabi_f2d
 418              	.LVL25:
 419 0064 41EC100B 		vmov	d0, r0, r1
 420 0068 FFF7FEFF 		bl	round
 421              	.LVL26:
 422 006c 51EC100B 		vmov	r0, r1, d0
 423              		.loc 1 94 6 view .LVU104
 424 0070 2368     		ldr	r3, [r4]
 425              		.loc 1 94 11 view .LVU105
 426 0072 1D68     		ldr	r5, [r3]
 427              		.loc 1 94 28 view .LVU106
 428 0074 FFF7FEFF 		bl	__aeabi_d2uiz
 429              	.LVL27:
 430 0078 6863     		str	r0, [r5, #52]
  95:Core/Src/motor.c ****     m->pwm->Instance->CCR2 = round(255 * m->dutyCycle);
 431              		.loc 1 95 5 is_stmt 1 view .LVU107
 432              		.loc 1 95 43 is_stmt 0 view .LVU108
 433 007a D4ED217A 		vldr.32	s15, [r4, #132]
 434              		.loc 1 95 30 view .LVU109
 435 007e 67EE887A 		vmul.f32	s15, s15, s16
 436 0082 17EE900A 		vmov	r0, s15
 437 0086 FFF7FEFF 		bl	__aeabi_f2d
 438              	.LVL28:
 439 008a 41EC100B 		vmov	d0, r0, r1
 440 008e FFF7FEFF 		bl	round
 441              	.LVL29:
 442 0092 51EC100B 		vmov	r0, r1, d0
 443              		.loc 1 95 6 view .LVU110
 444 0096 2368     		ldr	r3, [r4]
 445              		.loc 1 95 11 view .LVU111
 446 0098 1D68     		ldr	r5, [r3]
 447              		.loc 1 95 28 view .LVU112
 448 009a FFF7FEFF 		bl	__aeabi_d2uiz
 449              	.LVL30:
 450 009e A863     		str	r0, [r5, #56]
  96:Core/Src/motor.c ****     m->pwm->Instance->CCR3 = round(255 * m->dutyCycle);
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 11


 451              		.loc 1 96 5 is_stmt 1 view .LVU113
 452              		.loc 1 96 43 is_stmt 0 view .LVU114
 453 00a0 D4ED217A 		vldr.32	s15, [r4, #132]
 454              		.loc 1 96 30 view .LVU115
 455 00a4 67EE887A 		vmul.f32	s15, s15, s16
 456 00a8 17EE900A 		vmov	r0, s15
 457 00ac FFF7FEFF 		bl	__aeabi_f2d
 458              	.LVL31:
 459 00b0 41EC100B 		vmov	d0, r0, r1
 460 00b4 FFF7FEFF 		bl	round
 461              	.LVL32:
 462 00b8 51EC100B 		vmov	r0, r1, d0
 463              		.loc 1 96 6 view .LVU116
 464 00bc 2368     		ldr	r3, [r4]
 465              		.loc 1 96 11 view .LVU117
 466 00be 1C68     		ldr	r4, [r3]
 467              	.LVL33:
 468              		.loc 1 96 28 view .LVU118
 469 00c0 FFF7FEFF 		bl	__aeabi_d2uiz
 470              	.LVL34:
 471 00c4 E063     		str	r0, [r4, #60]
  97:Core/Src/motor.c ****     //while(m->angle != 0){
  98:Core/Src/motor.c ****     //    MOTOR_task(m);
  99:Core/Src/motor.c ****         //readHalls(m);
 100:Core/Src/motor.c ****     //}
 101:Core/Src/motor.c ****     //read encoder value for 0
 102:Core/Src/motor.c ****     //m->encoderStartVal = readEncoder(m);
 103:Core/Src/motor.c **** }
 472              		.loc 1 103 1 view .LVU119
 473 00c6 BDEC028B 		vldm	sp!, {d8}
 474              	.LCFI7:
 475              		.cfi_restore 80
 476              		.cfi_restore 81
 477              		.cfi_def_cfa_offset 16
 478 00ca 38BD     		pop	{r3, r4, r5, pc}
 479              	.L24:
 480              		.align	2
 481              	.L23:
 482 00cc 00007F43 		.word	1132396544
 483              		.cfi_endproc
 484              	.LFE333:
 486              		.global	__aeabi_i2d
 487              		.section	.text.MOTOR_updateShaftAngle,"ax",%progbits
 488              		.align	1
 489              		.global	MOTOR_updateShaftAngle
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 493              		.fpu fpv4-sp-d16
 495              	MOTOR_updateShaftAngle:
 496              	.LVL35:
 497              	.LFB334:
 104:Core/Src/motor.c **** void MOTOR_updateShaftAngle(motor_t* m, int angle)
 105:Core/Src/motor.c **** {
 498              		.loc 1 105 1 is_stmt 1 view -0
 499              		.cfi_startproc
 500              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 12


 501              		@ frame_needed = 0, uses_anonymous_args = 0
 502              		.loc 1 105 1 is_stmt 0 view .LVU121
 503 0000 10B5     		push	{r4, lr}
 504              	.LCFI8:
 505              		.cfi_def_cfa_offset 8
 506              		.cfi_offset 4, -8
 507              		.cfi_offset 14, -4
 508 0002 0446     		mov	r4, r0
 106:Core/Src/motor.c ****     m->angle = angle;
 509              		.loc 1 106 5 is_stmt 1 view .LVU122
 510              		.loc 1 106 14 is_stmt 0 view .LVU123
 511 0004 0846     		mov	r0, r1
 512              	.LVL36:
 513              		.loc 1 106 14 view .LVU124
 514 0006 FFF7FEFF 		bl	__aeabi_i2d
 515              	.LVL37:
 516              		.loc 1 106 14 view .LVU125
 517 000a C4E91801 		strd	r0, [r4, #96]
 107:Core/Src/motor.c **** }
 518              		.loc 1 107 1 view .LVU126
 519 000e 10BD     		pop	{r4, pc}
 520              		.loc 1 107 1 view .LVU127
 521              		.cfi_endproc
 522              	.LFE334:
 524              		.section	.text.MOTOR_getCurrent,"ax",%progbits
 525              		.align	1
 526              		.global	MOTOR_getCurrent
 527              		.syntax unified
 528              		.thumb
 529              		.thumb_func
 530              		.fpu fpv4-sp-d16
 532              	MOTOR_getCurrent:
 533              	.LVL38:
 534              	.LFB335:
 108:Core/Src/motor.c **** float MOTOR_getCurrent(motor_t* m)
 109:Core/Src/motor.c **** {
 535              		.loc 1 109 1 is_stmt 1 view -0
 536              		.cfi_startproc
 537              		@ args = 0, pretend = 0, frame = 0
 538              		@ frame_needed = 0, uses_anonymous_args = 0
 539              		@ link register save eliminated.
 110:Core/Src/motor.c ****     return m->averageCurrent;
 540              		.loc 1 110 5 view .LVU129
 111:Core/Src/motor.c **** }
 541              		.loc 1 111 1 is_stmt 0 view .LVU130
 542 0000 90ED230A 		vldr.32	s0, [r0, #140]
 543 0004 7047     		bx	lr
 544              		.cfi_endproc
 545              	.LFE335:
 547              		.section	.text._adcSelU,"ax",%progbits
 548              		.align	1
 549              		.global	_adcSelU
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu fpv4-sp-d16
 555              	_adcSelU:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 13


 556              	.LVL39:
 557              	.LFB338:
 112:Core/Src/motor.c **** void MOTOR_SVPWMtask(motor_t* m)
 113:Core/Src/motor.c **** {
 114:Core/Src/motor.c ****   	_adcSelU(m);
 115:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 116:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 117:Core/Src/motor.c ****   	m->iuDat = ((((3.3f * (double)HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 118:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 119:Core/Src/motor.c ****   	_adcSelV(m);
 120:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 121:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 122:Core/Src/motor.c ****   	m->ivDat = ((((3.3f * (double)HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 123:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 124:Core/Src/motor.c ****   	_adcSelW(m);
 125:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 126:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 127:Core/Src/motor.c ****   	m->iwDat = ((((3.3f *(double) HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 128:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 129:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 130:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 131:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 132:Core/Src/motor.c ****     //m->dir = m->motorState->pwm >= 0; // hall sensors are backwards
 133:Core/Src/motor.c **** 
 134:Core/Src/motor.c **** 	if(m->dir){
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR1 = round(255 * (0.5 * sin(m->angle  *  3.14159 / 180.0f) + 0.5)* m->duty
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 137:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 138:Core/Src/motor.c **** 	}
 139:Core/Src/motor.c **** 	else{
 140:Core/Src/motor.c **** 		m->pwm->Instance->CCR1 = round(255 * (0.5 * sin(m->angle  *  3.14159 / 180.0f) + 0.5)* m->dutyCyc
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 142:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 143:Core/Src/motor.c **** 	}
 144:Core/Src/motor.c **** }
 145:Core/Src/motor.c **** void MOTOR_task(motor_t* m)
 146:Core/Src/motor.c **** {
 147:Core/Src/motor.c ****     //m->dir = m->motorState->pwm >= 0; // hall sensors are backwards
 148:Core/Src/motor.c ****     if(m->angle < 60)
 149:Core/Src/motor.c ****     {
 150:Core/Src/motor.c ****     	if(m->dir) {
 151:Core/Src/motor.c ****     		_drive_wu(m);
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 153:Core/Src/motor.c ****     		m->pwm->Instance->CCR3 = 0; // pwmw = 0
 154:Core/Src/motor.c ****     	}
 155:Core/Src/motor.c ****     	else {
 156:Core/Src/motor.c ****       	   _drive_vw(m);
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 158:Core/Src/motor.c ****       	   m->pwm->Instance->CCR3 = 0; // pwmv = 0
 159:Core/Src/motor.c ****     	}
 160:Core/Src/motor.c ****     }
 161:Core/Src/motor.c ****     else if(m->angle < 120)
 162:Core/Src/motor.c ****     {
 163:Core/Src/motor.c ****         if(m->dir){
 164:Core/Src/motor.c ****             _drive_vw(m);
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 166:Core/Src/motor.c **** 			m->pwm->Instance->CCR3 = 0; // pwmw = 0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 14


 167:Core/Src/motor.c ****         }
 168:Core/Src/motor.c ****         else {
 169:Core/Src/motor.c ****             _drive_uv(m);
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 171:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = 0; // pwmu= 0
 172:Core/Src/motor.c ****         }
 173:Core/Src/motor.c ****     }
 174:Core/Src/motor.c ****     else if(m->angle < 180)
 175:Core/Src/motor.c ****     {
 176:Core/Src/motor.c ****         if(m->dir){
 177:Core/Src/motor.c ****             _drive_uv(m);
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 179:Core/Src/motor.c **** 			m->pwm->Instance->CCR1 = 0; // pwmu = 0
 180:Core/Src/motor.c ****         }
 181:Core/Src/motor.c ****         else {
 182:Core/Src/motor.c ****        	   _drive_wu(m);
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 184:Core/Src/motor.c ****       			m->pwm->Instance->CCR1 = 0; // pwmw = 0
 185:Core/Src/motor.c ****         }
 186:Core/Src/motor.c ****     }
 187:Core/Src/motor.c ****     else if(m->angle < 240)
 188:Core/Src/motor.c ****     {
 189:Core/Src/motor.c ****     	if(m->dir){
 190:Core/Src/motor.c ****     		_drive_wu(m);  // pwmu = dutycycle
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 192:Core/Src/motor.c ****     	    m->pwm->Instance->CCR1 = 0; // pwmu = 0
 193:Core/Src/motor.c ****     	}
 194:Core/Src/motor.c ****     	else {
 195:Core/Src/motor.c ****             _drive_vw(m);
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 197:Core/Src/motor.c ****  			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 198:Core/Src/motor.c ****     	}
 199:Core/Src/motor.c ****     }
 200:Core/Src/motor.c ****     else if(m->angle < 300)
 201:Core/Src/motor.c ****     {
 202:Core/Src/motor.c ****     	if(m->dir){
 203:Core/Src/motor.c ****     	    _drive_vw(m);
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 205:Core/Src/motor.c ****     	    m->pwm->Instance->CCR2 = 0; // pwmv = 0
 206:Core/Src/motor.c ****     	}
 207:Core/Src/motor.c ****     	else {
 208:Core/Src/motor.c ****     		_drive_uv(m);
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 210:Core/Src/motor.c ****    			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 211:Core/Src/motor.c ****     	}
 212:Core/Src/motor.c ****     }
 213:Core/Src/motor.c ****     else if(m->angle < 360)
 214:Core/Src/motor.c ****     {
 215:Core/Src/motor.c ****     	if(m->dir){
 216:Core/Src/motor.c ****             _drive_uv(m);
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 218:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = 0; // pwmv = 0
 219:Core/Src/motor.c ****         }
 220:Core/Src/motor.c ****        else {
 221:Core/Src/motor.c ****      	   _drive_wu(m);  // pwmu = dutycycle
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 223:Core/Src/motor.c ****      	   m->pwm->Instance->CCR3 = 0; // pwmu = 0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 15


 224:Core/Src/motor.c ****        }
 225:Core/Src/motor.c ****     }
 226:Core/Src/motor.c **** }
 227:Core/Src/motor.c **** void _adcSelU(motor_t* m)
 228:Core/Src/motor.c **** {
 558              		.loc 1 228 1 is_stmt 1 view -0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 32
 561              		@ frame_needed = 0, uses_anonymous_args = 0
 562              		.loc 1 228 1 is_stmt 0 view .LVU132
 563 0000 10B5     		push	{r4, lr}
 564              	.LCFI9:
 565              		.cfi_def_cfa_offset 8
 566              		.cfi_offset 4, -8
 567              		.cfi_offset 14, -4
 568 0002 88B0     		sub	sp, sp, #32
 569              	.LCFI10:
 570              		.cfi_def_cfa_offset 40
 571 0004 0446     		mov	r4, r0
 229:Core/Src/motor.c **** 	ADC_ChannelConfTypeDef sConfig = {0};
 572              		.loc 1 229 2 is_stmt 1 view .LVU133
 573              		.loc 1 229 25 is_stmt 0 view .LVU134
 574 0006 2022     		movs	r2, #32
 575 0008 0021     		movs	r1, #0
 576 000a 6846     		mov	r0, sp
 577              	.LVL40:
 578              		.loc 1 229 25 view .LVU135
 579 000c FFF7FEFF 		bl	memset
 580              	.LVL41:
 230:Core/Src/motor.c **** 	  /** Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 231:Core/Src/motor.c **** 	  */
 232:Core/Src/motor.c **** 	  sConfig.Channel = ADC_CHANNEL_1;
 581              		.loc 1 232 4 is_stmt 1 view .LVU136
 582              		.loc 1 232 20 is_stmt 0 view .LVU137
 583 0010 064B     		ldr	r3, .L32
 584 0012 0093     		str	r3, [sp]
 233:Core/Src/motor.c **** 	  sConfig.Rank = 1;
 585              		.loc 1 233 4 is_stmt 1 view .LVU138
 586              		.loc 1 233 17 is_stmt 0 view .LVU139
 587 0014 0123     		movs	r3, #1
 588 0016 0193     		str	r3, [sp, #4]
 234:Core/Src/motor.c **** 	  if (HAL_ADC_ConfigChannel(m->adc, &sConfig) != HAL_OK)
 589              		.loc 1 234 4 is_stmt 1 view .LVU140
 590              		.loc 1 234 8 is_stmt 0 view .LVU141
 591 0018 6946     		mov	r1, sp
 592 001a E06B     		ldr	r0, [r4, #60]
 593 001c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 594              	.LVL42:
 595              		.loc 1 234 7 view .LVU142
 596 0020 08B9     		cbnz	r0, .L31
 597              	.L28:
 235:Core/Src/motor.c **** 	  {
 236:Core/Src/motor.c **** 	    Error_Handler();
 237:Core/Src/motor.c **** 	  }
 238:Core/Src/motor.c **** }
 598              		.loc 1 238 1 view .LVU143
 599 0022 08B0     		add	sp, sp, #32
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 16


 600              	.LCFI11:
 601              		.cfi_remember_state
 602              		.cfi_def_cfa_offset 8
 603              		@ sp needed
 604 0024 10BD     		pop	{r4, pc}
 605              	.LVL43:
 606              	.L31:
 607              	.LCFI12:
 608              		.cfi_restore_state
 609              	.LBB2:
 236:Core/Src/motor.c **** 	  }
 610              		.loc 1 236 6 is_stmt 1 view .LVU144
 611 0026 FFF7FEFF 		bl	Error_Handler
 612              	.LVL44:
 613              	.LBE2:
 614              		.loc 1 238 1 is_stmt 0 view .LVU145
 615 002a FAE7     		b	.L28
 616              	.L33:
 617              		.align	2
 618              	.L32:
 619 002c 02003004 		.word	70254594
 620              		.cfi_endproc
 621              	.LFE338:
 623              		.section	.text._adcSelV,"ax",%progbits
 624              		.align	1
 625              		.global	_adcSelV
 626              		.syntax unified
 627              		.thumb
 628              		.thumb_func
 629              		.fpu fpv4-sp-d16
 631              	_adcSelV:
 632              	.LVL45:
 633              	.LFB339:
 239:Core/Src/motor.c **** void _adcSelV(motor_t* m)
 240:Core/Src/motor.c **** {
 634              		.loc 1 240 1 is_stmt 1 view -0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 32
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              		.loc 1 240 1 is_stmt 0 view .LVU147
 639 0000 10B5     		push	{r4, lr}
 640              	.LCFI13:
 641              		.cfi_def_cfa_offset 8
 642              		.cfi_offset 4, -8
 643              		.cfi_offset 14, -4
 644 0002 88B0     		sub	sp, sp, #32
 645              	.LCFI14:
 646              		.cfi_def_cfa_offset 40
 647 0004 0446     		mov	r4, r0
 241:Core/Src/motor.c **** 	ADC_ChannelConfTypeDef sConfig = {0};
 648              		.loc 1 241 2 is_stmt 1 view .LVU148
 649              		.loc 1 241 25 is_stmt 0 view .LVU149
 650 0006 2022     		movs	r2, #32
 651 0008 0021     		movs	r1, #0
 652 000a 6846     		mov	r0, sp
 653              	.LVL46:
 654              		.loc 1 241 25 view .LVU150
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 17


 655 000c FFF7FEFF 		bl	memset
 656              	.LVL47:
 242:Core/Src/motor.c **** 	  /** Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 243:Core/Src/motor.c **** 	  */
 244:Core/Src/motor.c **** 	  sConfig.Channel = ADC_CHANNEL_2;
 657              		.loc 1 244 4 is_stmt 1 view .LVU151
 658              		.loc 1 244 20 is_stmt 0 view .LVU152
 659 0010 064B     		ldr	r3, .L38
 660 0012 0093     		str	r3, [sp]
 245:Core/Src/motor.c **** 	  sConfig.Rank = 1;
 661              		.loc 1 245 4 is_stmt 1 view .LVU153
 662              		.loc 1 245 17 is_stmt 0 view .LVU154
 663 0014 0123     		movs	r3, #1
 664 0016 0193     		str	r3, [sp, #4]
 246:Core/Src/motor.c **** 	  if (HAL_ADC_ConfigChannel(m->adc, &sConfig) != HAL_OK)
 665              		.loc 1 246 4 is_stmt 1 view .LVU155
 666              		.loc 1 246 8 is_stmt 0 view .LVU156
 667 0018 6946     		mov	r1, sp
 668 001a E06B     		ldr	r0, [r4, #60]
 669 001c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 670              	.LVL48:
 671              		.loc 1 246 7 view .LVU157
 672 0020 08B9     		cbnz	r0, .L37
 673              	.L34:
 247:Core/Src/motor.c **** 	  {
 248:Core/Src/motor.c **** 	    Error_Handler();
 249:Core/Src/motor.c **** 	  }
 250:Core/Src/motor.c **** }
 674              		.loc 1 250 1 view .LVU158
 675 0022 08B0     		add	sp, sp, #32
 676              	.LCFI15:
 677              		.cfi_remember_state
 678              		.cfi_def_cfa_offset 8
 679              		@ sp needed
 680 0024 10BD     		pop	{r4, pc}
 681              	.LVL49:
 682              	.L37:
 683              	.LCFI16:
 684              		.cfi_restore_state
 685              	.LBB3:
 248:Core/Src/motor.c **** 	  }
 686              		.loc 1 248 6 is_stmt 1 view .LVU159
 687 0026 FFF7FEFF 		bl	Error_Handler
 688              	.LVL50:
 689              	.LBE3:
 690              		.loc 1 250 1 is_stmt 0 view .LVU160
 691 002a FAE7     		b	.L34
 692              	.L39:
 693              		.align	2
 694              	.L38:
 695 002c 04006008 		.word	140509188
 696              		.cfi_endproc
 697              	.LFE339:
 699              		.section	.text._adcSelW,"ax",%progbits
 700              		.align	1
 701              		.global	_adcSelW
 702              		.syntax unified
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 18


 703              		.thumb
 704              		.thumb_func
 705              		.fpu fpv4-sp-d16
 707              	_adcSelW:
 708              	.LVL51:
 709              	.LFB340:
 251:Core/Src/motor.c **** void _adcSelW(motor_t* m)
 252:Core/Src/motor.c **** {
 710              		.loc 1 252 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 32
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              		.loc 1 252 1 is_stmt 0 view .LVU162
 715 0000 10B5     		push	{r4, lr}
 716              	.LCFI17:
 717              		.cfi_def_cfa_offset 8
 718              		.cfi_offset 4, -8
 719              		.cfi_offset 14, -4
 720 0002 88B0     		sub	sp, sp, #32
 721              	.LCFI18:
 722              		.cfi_def_cfa_offset 40
 723 0004 0446     		mov	r4, r0
 253:Core/Src/motor.c **** 	ADC_ChannelConfTypeDef sConfig = {0};
 724              		.loc 1 253 2 is_stmt 1 view .LVU163
 725              		.loc 1 253 25 is_stmt 0 view .LVU164
 726 0006 2022     		movs	r2, #32
 727 0008 0021     		movs	r1, #0
 728 000a 6846     		mov	r0, sp
 729              	.LVL52:
 730              		.loc 1 253 25 view .LVU165
 731 000c FFF7FEFF 		bl	memset
 732              	.LVL53:
 254:Core/Src/motor.c **** 	  /** Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 255:Core/Src/motor.c **** 	  */
 256:Core/Src/motor.c **** 	  sConfig.Channel =  ADC_CHANNEL_3;
 733              		.loc 1 256 4 is_stmt 1 view .LVU166
 734              		.loc 1 256 20 is_stmt 0 view .LVU167
 735 0010 064B     		ldr	r3, .L44
 736 0012 0093     		str	r3, [sp]
 257:Core/Src/motor.c **** 	  sConfig.Rank = 1;
 737              		.loc 1 257 4 is_stmt 1 view .LVU168
 738              		.loc 1 257 17 is_stmt 0 view .LVU169
 739 0014 0123     		movs	r3, #1
 740 0016 0193     		str	r3, [sp, #4]
 258:Core/Src/motor.c **** 	  if (HAL_ADC_ConfigChannel(m->adc, &sConfig) != HAL_OK)
 741              		.loc 1 258 4 is_stmt 1 view .LVU170
 742              		.loc 1 258 8 is_stmt 0 view .LVU171
 743 0018 6946     		mov	r1, sp
 744 001a E06B     		ldr	r0, [r4, #60]
 745 001c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 746              	.LVL54:
 747              		.loc 1 258 7 view .LVU172
 748 0020 08B9     		cbnz	r0, .L43
 749              	.L40:
 259:Core/Src/motor.c **** 	  {
 260:Core/Src/motor.c **** 	    Error_Handler();
 261:Core/Src/motor.c **** 	  }
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 19


 262:Core/Src/motor.c **** }
 750              		.loc 1 262 1 view .LVU173
 751 0022 08B0     		add	sp, sp, #32
 752              	.LCFI19:
 753              		.cfi_remember_state
 754              		.cfi_def_cfa_offset 8
 755              		@ sp needed
 756 0024 10BD     		pop	{r4, pc}
 757              	.LVL55:
 758              	.L43:
 759              	.LCFI20:
 760              		.cfi_restore_state
 761              	.LBB4:
 260:Core/Src/motor.c **** 	  }
 762              		.loc 1 260 6 is_stmt 1 view .LVU174
 763 0026 FFF7FEFF 		bl	Error_Handler
 764              	.LVL56:
 765              	.LBE4:
 766              		.loc 1 262 1 is_stmt 0 view .LVU175
 767 002a FAE7     		b	.L40
 768              	.L45:
 769              		.align	2
 770              	.L44:
 771 002c 0800900C 		.word	210763784
 772              		.cfi_endproc
 773              	.LFE340:
 775              		.global	__aeabi_ui2d
 776              		.global	__aeabi_dmul
 777              		.global	__aeabi_ddiv
 778              		.global	__aeabi_d2f
 779              		.global	__aeabi_dadd
 780              		.global	__aeabi_dsub
 781              		.section	.text.MOTOR_SVPWMtask,"ax",%progbits
 782              		.align	1
 783              		.global	MOTOR_SVPWMtask
 784              		.syntax unified
 785              		.thumb
 786              		.thumb_func
 787              		.fpu fpv4-sp-d16
 789              	MOTOR_SVPWMtask:
 790              	.LVL57:
 791              	.LFB336:
 113:Core/Src/motor.c ****   	_adcSelU(m);
 792              		.loc 1 113 1 is_stmt 1 view -0
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 113:Core/Src/motor.c ****   	_adcSelU(m);
 796              		.loc 1 113 1 is_stmt 0 view .LVU177
 797 0000 D0B5     		push	{r4, r6, r7, lr}
 798              	.LCFI21:
 799              		.cfi_def_cfa_offset 16
 800              		.cfi_offset 4, -16
 801              		.cfi_offset 6, -12
 802              		.cfi_offset 7, -8
 803              		.cfi_offset 14, -4
 804 0002 0446     		mov	r4, r0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 20


 114:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 805              		.loc 1 114 4 is_stmt 1 view .LVU178
 806 0004 FFF7FEFF 		bl	_adcSelU
 807              	.LVL58:
 115:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 808              		.loc 1 115 4 view .LVU179
 809 0008 E06B     		ldr	r0, [r4, #60]
 810 000a FFF7FEFF 		bl	HAL_ADC_Start
 811              	.LVL59:
 116:Core/Src/motor.c ****   	m->iuDat = ((((3.3f * (double)HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 812              		.loc 1 116 4 view .LVU180
 813 000e 6421     		movs	r1, #100
 814 0010 E06B     		ldr	r0, [r4, #60]
 815 0012 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 816              	.LVL60:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 817              		.loc 1 117 4 view .LVU181
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 818              		.loc 1 117 34 is_stmt 0 view .LVU182
 819 0016 E06B     		ldr	r0, [r4, #60]
 820 0018 FFF7FEFF 		bl	HAL_ADC_GetValue
 821              	.LVL61:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 822              		.loc 1 117 26 view .LVU183
 823 001c FFF7FEFF 		bl	__aeabi_ui2d
 824              	.LVL62:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 825              		.loc 1 117 24 view .LVU184
 826 0020 97A3     		adr	r3, .L50+16
 827 0022 D3E90023 		ldrd	r2, [r3]
 828 0026 FFF7FEFF 		bl	__aeabi_dmul
 829              	.LVL63:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 830              		.loc 1 117 59 view .LVU185
 831 002a 0022     		movs	r2, #0
 832 002c 9C4B     		ldr	r3, .L50+48
 833 002e FFF7FEFF 		bl	__aeabi_dmul
 834              	.LVL64:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 835              		.loc 1 117 70 view .LVU186
 836 0032 8FA3     		adr	r3, .L50
 837 0034 D3E90023 		ldrd	r2, [r3]
 838 0038 FFF7FEFF 		bl	__aeabi_dmul
 839              	.LVL65:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 840              		.loc 1 117 81 view .LVU187
 841 003c 8EA3     		adr	r3, .L50+8
 842 003e D3E90023 		ldrd	r2, [r3]
 843 0042 FFF7FEFF 		bl	__aeabi_ddiv
 844              	.LVL66:
 845 0046 FFF7FEFF 		bl	__aeabi_d2f
 846              	.LVL67:
 117:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 847              		.loc 1 117 13 view .LVU188
 848 004a A066     		str	r0, [r4, #104]	@ float
 118:Core/Src/motor.c ****   	_adcSelV(m);
 849              		.loc 1 118 4 is_stmt 1 view .LVU189
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 21


 850 004c E06B     		ldr	r0, [r4, #60]
 851 004e FFF7FEFF 		bl	HAL_ADC_Stop
 852              	.LVL68:
 119:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 853              		.loc 1 119 4 view .LVU190
 854 0052 2046     		mov	r0, r4
 855 0054 FFF7FEFF 		bl	_adcSelV
 856              	.LVL69:
 120:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 857              		.loc 1 120 4 view .LVU191
 858 0058 E06B     		ldr	r0, [r4, #60]
 859 005a FFF7FEFF 		bl	HAL_ADC_Start
 860              	.LVL70:
 121:Core/Src/motor.c ****   	m->ivDat = ((((3.3f * (double)HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 861              		.loc 1 121 4 view .LVU192
 862 005e 6421     		movs	r1, #100
 863 0060 E06B     		ldr	r0, [r4, #60]
 864 0062 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 865              	.LVL71:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 866              		.loc 1 122 4 view .LVU193
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 867              		.loc 1 122 34 is_stmt 0 view .LVU194
 868 0066 E06B     		ldr	r0, [r4, #60]
 869 0068 FFF7FEFF 		bl	HAL_ADC_GetValue
 870              	.LVL72:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 871              		.loc 1 122 26 view .LVU195
 872 006c FFF7FEFF 		bl	__aeabi_ui2d
 873              	.LVL73:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 874              		.loc 1 122 24 view .LVU196
 875 0070 83A3     		adr	r3, .L50+16
 876 0072 D3E90023 		ldrd	r2, [r3]
 877 0076 FFF7FEFF 		bl	__aeabi_dmul
 878              	.LVL74:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 879              		.loc 1 122 59 view .LVU197
 880 007a 0022     		movs	r2, #0
 881 007c 884B     		ldr	r3, .L50+48
 882 007e FFF7FEFF 		bl	__aeabi_dmul
 883              	.LVL75:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 884              		.loc 1 122 70 view .LVU198
 885 0082 7BA3     		adr	r3, .L50
 886 0084 D3E90023 		ldrd	r2, [r3]
 887 0088 FFF7FEFF 		bl	__aeabi_dmul
 888              	.LVL76:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 889              		.loc 1 122 81 view .LVU199
 890 008c 7AA3     		adr	r3, .L50+8
 891 008e D3E90023 		ldrd	r2, [r3]
 892 0092 FFF7FEFF 		bl	__aeabi_ddiv
 893              	.LVL77:
 894 0096 FFF7FEFF 		bl	__aeabi_d2f
 895              	.LVL78:
 122:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 22


 896              		.loc 1 122 13 view .LVU200
 897 009a E066     		str	r0, [r4, #108]	@ float
 123:Core/Src/motor.c ****   	_adcSelW(m);
 898              		.loc 1 123 4 is_stmt 1 view .LVU201
 899 009c E06B     		ldr	r0, [r4, #60]
 900 009e FFF7FEFF 		bl	HAL_ADC_Stop
 901              	.LVL79:
 124:Core/Src/motor.c ****   	HAL_ADC_Start(m->adc);
 902              		.loc 1 124 4 view .LVU202
 903 00a2 2046     		mov	r0, r4
 904 00a4 FFF7FEFF 		bl	_adcSelW
 905              	.LVL80:
 125:Core/Src/motor.c ****   	HAL_ADC_PollForConversion(m->adc, 100);
 906              		.loc 1 125 4 view .LVU203
 907 00a8 E06B     		ldr	r0, [r4, #60]
 908 00aa FFF7FEFF 		bl	HAL_ADC_Start
 909              	.LVL81:
 126:Core/Src/motor.c ****   	m->iwDat = ((((3.3f *(double) HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 910              		.loc 1 126 4 view .LVU204
 911 00ae 6421     		movs	r1, #100
 912 00b0 E06B     		ldr	r0, [r4, #60]
 913 00b2 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 914              	.LVL82:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 915              		.loc 1 127 4 view .LVU205
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 916              		.loc 1 127 34 is_stmt 0 view .LVU206
 917 00b6 E06B     		ldr	r0, [r4, #60]
 918 00b8 FFF7FEFF 		bl	HAL_ADC_GetValue
 919              	.LVL83:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 920              		.loc 1 127 25 view .LVU207
 921 00bc FFF7FEFF 		bl	__aeabi_ui2d
 922              	.LVL84:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 923              		.loc 1 127 24 view .LVU208
 924 00c0 6FA3     		adr	r3, .L50+16
 925 00c2 D3E90023 		ldrd	r2, [r3]
 926 00c6 FFF7FEFF 		bl	__aeabi_dmul
 927              	.LVL85:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 928              		.loc 1 127 59 view .LVU209
 929 00ca 0022     		movs	r2, #0
 930 00cc 744B     		ldr	r3, .L50+48
 931 00ce FFF7FEFF 		bl	__aeabi_dmul
 932              	.LVL86:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 933              		.loc 1 127 70 view .LVU210
 934 00d2 67A3     		adr	r3, .L50
 935 00d4 D3E90023 		ldrd	r2, [r3]
 936 00d8 FFF7FEFF 		bl	__aeabi_dmul
 937              	.LVL87:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 938              		.loc 1 127 81 view .LVU211
 939 00dc 66A3     		adr	r3, .L50+8
 940 00de D3E90023 		ldrd	r2, [r3]
 941 00e2 FFF7FEFF 		bl	__aeabi_ddiv
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 23


 942              	.LVL88:
 943 00e6 FFF7FEFF 		bl	__aeabi_d2f
 944              	.LVL89:
 127:Core/Src/motor.c ****   	HAL_ADC_Stop(m->adc);
 945              		.loc 1 127 13 view .LVU212
 946 00ea 2067     		str	r0, [r4, #112]	@ float
 128:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 947              		.loc 1 128 4 is_stmt 1 view .LVU213
 948 00ec E06B     		ldr	r0, [r4, #60]
 949 00ee FFF7FEFF 		bl	HAL_ADC_Stop
 950              	.LVL90:
 129:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 951              		.loc 1 129 5 view .LVU214
 952 00f2 0122     		movs	r2, #1
 953 00f4 218C     		ldrh	r1, [r4, #32]
 954 00f6 E069     		ldr	r0, [r4, #28]
 955 00f8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 956              	.LVL91:
 130:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 957              		.loc 1 130 5 view .LVU215
 958 00fc 0122     		movs	r2, #1
 959 00fe 218D     		ldrh	r1, [r4, #40]
 960 0100 606A     		ldr	r0, [r4, #36]
 961 0102 FFF7FEFF 		bl	HAL_GPIO_WritePin
 962              	.LVL92:
 131:Core/Src/motor.c ****     //m->dir = m->motorState->pwm >= 0; // hall sensors are backwards
 963              		.loc 1 131 5 view .LVU216
 964 0106 0122     		movs	r2, #1
 965 0108 218E     		ldrh	r1, [r4, #48]
 966 010a E06A     		ldr	r0, [r4, #44]
 967 010c FFF7FEFF 		bl	HAL_GPIO_WritePin
 968              	.LVL93:
 134:Core/Src/motor.c ****     	m->pwm->Instance->CCR1 = round(255 * (0.5 * sin(m->angle  *  3.14159 / 180.0f) + 0.5)* m->duty
 969              		.loc 1 134 2 view .LVU217
 134:Core/Src/motor.c ****     	m->pwm->Instance->CCR1 = round(255 * (0.5 * sin(m->angle  *  3.14159 / 180.0f) + 0.5)* m->duty
 970              		.loc 1 134 6 is_stmt 0 view .LVU218
 971 0110 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 134:Core/Src/motor.c ****     	m->pwm->Instance->CCR1 = round(255 * (0.5 * sin(m->angle  *  3.14159 / 180.0f) + 0.5)* m->duty
 972              		.loc 1 134 4 view .LVU219
 973 0114 002B     		cmp	r3, #0
 974 0116 00F0C980 		beq	.L47
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 975              		.loc 1 135 6 is_stmt 1 view .LVU220
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 976              		.loc 1 135 64 is_stmt 0 view .LVU221
 977 011a 5BA3     		adr	r3, .L50+24
 978 011c D3E90023 		ldrd	r2, [r3]
 979 0120 D4E91801 		ldrd	r0, [r4, #96]
 980 0124 FFF7FEFF 		bl	__aeabi_dmul
 981              	.LVL94:
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 982              		.loc 1 135 50 view .LVU222
 983 0128 0022     		movs	r2, #0
 984 012a 5E4B     		ldr	r3, .L50+52
 985 012c FFF7FEFF 		bl	__aeabi_ddiv
 986              	.LVL95:
 987 0130 41EC100B 		vmov	d0, r0, r1
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 24


 988 0134 FFF7FEFF 		bl	sin
 989              	.LVL96:
 990 0138 51EC100B 		vmov	r0, r1, d0
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 991              		.loc 1 135 48 view .LVU223
 992 013c 0022     		movs	r2, #0
 993 013e 5A4B     		ldr	r3, .L50+56
 994 0140 FFF7FEFF 		bl	__aeabi_dmul
 995              	.LVL97:
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 996              		.loc 1 135 85 view .LVU224
 997 0144 0022     		movs	r2, #0
 998 0146 584B     		ldr	r3, .L50+56
 999 0148 FFF7FEFF 		bl	__aeabi_dadd
 1000              	.LVL98:
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1001              		.loc 1 135 41 view .LVU225
 1002 014c 50A3     		adr	r3, .L50+32
 1003 014e D3E90023 		ldrd	r2, [r3]
 1004 0152 FFF7FEFF 		bl	__aeabi_dmul
 1005              	.LVL99:
 1006 0156 0646     		mov	r6, r0
 1007 0158 0F46     		mov	r7, r1
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1008              		.loc 1 135 94 view .LVU226
 1009 015a D4F88400 		ldr	r0, [r4, #132]	@ float
 1010 015e FFF7FEFF 		bl	__aeabi_f2d
 1011              	.LVL100:
 1012 0162 0246     		mov	r2, r0
 1013 0164 0B46     		mov	r3, r1
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1014              		.loc 1 135 31 view .LVU227
 1015 0166 3046     		mov	r0, r6
 1016 0168 3946     		mov	r1, r7
 1017 016a FFF7FEFF 		bl	__aeabi_dmul
 1018              	.LVL101:
 1019 016e 41EC100B 		vmov	d0, r0, r1
 1020 0172 FFF7FEFF 		bl	round
 1021              	.LVL102:
 1022 0176 51EC100B 		vmov	r0, r1, d0
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1023              		.loc 1 135 7 view .LVU228
 1024 017a 2368     		ldr	r3, [r4]
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1025              		.loc 1 135 12 view .LVU229
 1026 017c 1E68     		ldr	r6, [r3]
 135:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1027              		.loc 1 135 29 view .LVU230
 1028 017e FFF7FEFF 		bl	__aeabi_d2uiz
 1029              	.LVL103:
 1030 0182 7063     		str	r0, [r6, #52]
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1031              		.loc 1 136 6 is_stmt 1 view .LVU231
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1032              		.loc 1 136 65 is_stmt 0 view .LVU232
 1033 0184 40A3     		adr	r3, .L50+24
 1034 0186 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 25


 1035 018a D4E91801 		ldrd	r0, [r4, #96]
 1036 018e FFF7FEFF 		bl	__aeabi_dmul
 1037              	.LVL104:
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1038              		.loc 1 136 76 view .LVU233
 1039 0192 0022     		movs	r2, #0
 1040 0194 434B     		ldr	r3, .L50+52
 1041 0196 FFF7FEFF 		bl	__aeabi_ddiv
 1042              	.LVL105:
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1043              		.loc 1 136 50 view .LVU234
 1044 019a 3FA3     		adr	r3, .L50+40
 1045 019c D3E90023 		ldrd	r2, [r3]
 1046 01a0 FFF7FEFF 		bl	__aeabi_dsub
 1047              	.LVL106:
 1048 01a4 41EC100B 		vmov	d0, r0, r1
 1049 01a8 FFF7FEFF 		bl	sin
 1050              	.LVL107:
 1051 01ac 51EC100B 		vmov	r0, r1, d0
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1052              		.loc 1 136 48 view .LVU235
 1053 01b0 0022     		movs	r2, #0
 1054 01b2 3D4B     		ldr	r3, .L50+56
 1055 01b4 FFF7FEFF 		bl	__aeabi_dmul
 1056              	.LVL108:
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1057              		.loc 1 136 113 view .LVU236
 1058 01b8 0022     		movs	r2, #0
 1059 01ba 3B4B     		ldr	r3, .L50+56
 1060 01bc FFF7FEFF 		bl	__aeabi_dadd
 1061              	.LVL109:
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1062              		.loc 1 136 41 view .LVU237
 1063 01c0 33A3     		adr	r3, .L50+32
 1064 01c2 D3E90023 		ldrd	r2, [r3]
 1065 01c6 FFF7FEFF 		bl	__aeabi_dmul
 1066              	.LVL110:
 1067 01ca 0646     		mov	r6, r0
 1068 01cc 0F46     		mov	r7, r1
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1069              		.loc 1 136 123 view .LVU238
 1070 01ce D4F88400 		ldr	r0, [r4, #132]	@ float
 1071 01d2 FFF7FEFF 		bl	__aeabi_f2d
 1072              	.LVL111:
 1073 01d6 0246     		mov	r2, r0
 1074 01d8 0B46     		mov	r3, r1
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1075              		.loc 1 136 31 view .LVU239
 1076 01da 3046     		mov	r0, r6
 1077 01dc 3946     		mov	r1, r7
 1078 01de FFF7FEFF 		bl	__aeabi_dmul
 1079              	.LVL112:
 1080 01e2 41EC100B 		vmov	d0, r0, r1
 1081 01e6 FFF7FEFF 		bl	round
 1082              	.LVL113:
 1083 01ea 51EC100B 		vmov	r0, r1, d0
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 26


 1084              		.loc 1 136 7 view .LVU240
 1085 01ee 2368     		ldr	r3, [r4]
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1086              		.loc 1 136 12 view .LVU241
 1087 01f0 1E68     		ldr	r6, [r3]
 136:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) + (2.0f * 3.14
 1088              		.loc 1 136 29 view .LVU242
 1089 01f2 FFF7FEFF 		bl	__aeabi_d2uiz
 1090              	.LVL114:
 1091 01f6 B063     		str	r0, [r6, #56]
 137:Core/Src/motor.c **** 	}
 1092              		.loc 1 137 6 is_stmt 1 view .LVU243
 137:Core/Src/motor.c **** 	}
 1093              		.loc 1 137 65 is_stmt 0 view .LVU244
 1094 01f8 23A3     		adr	r3, .L50+24
 1095 01fa D3E90023 		ldrd	r2, [r3]
 1096 01fe D4E91801 		ldrd	r0, [r4, #96]
 1097 0202 FFF7FEFF 		bl	__aeabi_dmul
 1098              	.LVL115:
 137:Core/Src/motor.c **** 	}
 1099              		.loc 1 137 76 view .LVU245
 1100 0206 0022     		movs	r2, #0
 1101 0208 264B     		ldr	r3, .L50+52
 1102 020a FFF7FEFF 		bl	__aeabi_ddiv
 1103              	.LVL116:
 137:Core/Src/motor.c **** 	}
 1104              		.loc 1 137 50 view .LVU246
 1105 020e 22A3     		adr	r3, .L50+40
 1106 0210 D3E90023 		ldrd	r2, [r3]
 1107 0214 FFF7FEFF 		bl	__aeabi_dadd
 1108              	.LVL117:
 1109 0218 41EC100B 		vmov	d0, r0, r1
 1110 021c FFF7FEFF 		bl	sin
 1111              	.LVL118:
 1112 0220 51EC100B 		vmov	r0, r1, d0
 137:Core/Src/motor.c **** 	}
 1113              		.loc 1 137 48 view .LVU247
 1114 0224 0022     		movs	r2, #0
 1115 0226 204B     		ldr	r3, .L50+56
 1116 0228 FFF7FEFF 		bl	__aeabi_dmul
 1117              	.LVL119:
 137:Core/Src/motor.c **** 	}
 1118              		.loc 1 137 113 view .LVU248
 1119 022c 0022     		movs	r2, #0
 1120 022e 1E4B     		ldr	r3, .L50+56
 1121 0230 FFF7FEFF 		bl	__aeabi_dadd
 1122              	.LVL120:
 137:Core/Src/motor.c **** 	}
 1123              		.loc 1 137 41 view .LVU249
 1124 0234 16A3     		adr	r3, .L50+32
 1125 0236 D3E90023 		ldrd	r2, [r3]
 1126 023a FFF7FEFF 		bl	__aeabi_dmul
 1127              	.LVL121:
 1128 023e 0646     		mov	r6, r0
 1129 0240 0F46     		mov	r7, r1
 137:Core/Src/motor.c **** 	}
 1130              		.loc 1 137 123 view .LVU250
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 27


 1131 0242 D4F88400 		ldr	r0, [r4, #132]	@ float
 1132 0246 FFF7FEFF 		bl	__aeabi_f2d
 1133              	.LVL122:
 1134 024a 0246     		mov	r2, r0
 1135 024c 0B46     		mov	r3, r1
 137:Core/Src/motor.c **** 	}
 1136              		.loc 1 137 31 view .LVU251
 1137 024e 3046     		mov	r0, r6
 1138 0250 3946     		mov	r1, r7
 1139 0252 FFF7FEFF 		bl	__aeabi_dmul
 1140              	.LVL123:
 1141 0256 41EC100B 		vmov	d0, r0, r1
 1142 025a FFF7FEFF 		bl	round
 1143              	.LVL124:
 1144 025e 51EC100B 		vmov	r0, r1, d0
 137:Core/Src/motor.c **** 	}
 1145              		.loc 1 137 7 view .LVU252
 1146 0262 2368     		ldr	r3, [r4]
 137:Core/Src/motor.c **** 	}
 1147              		.loc 1 137 12 view .LVU253
 1148 0264 1C68     		ldr	r4, [r3]
 1149              	.LVL125:
 137:Core/Src/motor.c **** 	}
 1150              		.loc 1 137 29 view .LVU254
 1151 0266 FFF7FEFF 		bl	__aeabi_d2uiz
 1152              	.LVL126:
 1153 026a E063     		str	r0, [r4, #60]
 1154              	.L46:
 144:Core/Src/motor.c **** void MOTOR_task(motor_t* m)
 1155              		.loc 1 144 1 view .LVU255
 1156 026c D0BD     		pop	{r4, r6, r7, pc}
 1157              	.L51:
 1158 026e 00BF     		.align	3
 1159              	.L50:
 1160 0270 00000000 		.word	0
 1161 0274 00F8C140 		.word	1086453760
 1162 0278 00000000 		.word	0
 1163 027c 0090BA40 		.word	1085968384
 1164 0280 00000060 		.word	1610612736
 1165 0284 66660A40 		.word	1074423398
 1166 0288 6E861BF0 		.word	-266631570
 1167 028c F9210940 		.word	1074340345
 1168 0290 00000000 		.word	0
 1169 0294 00E06F40 		.word	1081073664
 1170 0298 4904BD4A 		.word	1253901385
 1171 029c 51C10040 		.word	1073791313
 1172 02a0 0000303F 		.word	1060110336
 1173 02a4 00806640 		.word	1080459264
 1174 02a8 0000E03F 		.word	1071644672
 1175              	.LVL127:
 1176              	.L47:
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1177              		.loc 1 140 3 is_stmt 1 view .LVU256
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1178              		.loc 1 140 61 is_stmt 0 view .LVU257
 1179 02ac 56A3     		adr	r3, .L52+8
 1180 02ae D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 28


 1181 02b2 D4E91801 		ldrd	r0, [r4, #96]
 1182 02b6 FFF7FEFF 		bl	__aeabi_dmul
 1183              	.LVL128:
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1184              		.loc 1 140 47 view .LVU258
 1185 02ba 0022     		movs	r2, #0
 1186 02bc 564B     		ldr	r3, .L52+24
 1187 02be FFF7FEFF 		bl	__aeabi_ddiv
 1188              	.LVL129:
 1189 02c2 41EC100B 		vmov	d0, r0, r1
 1190 02c6 FFF7FEFF 		bl	sin
 1191              	.LVL130:
 1192 02ca 51EC100B 		vmov	r0, r1, d0
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1193              		.loc 1 140 45 view .LVU259
 1194 02ce 0022     		movs	r2, #0
 1195 02d0 524B     		ldr	r3, .L52+28
 1196 02d2 FFF7FEFF 		bl	__aeabi_dmul
 1197              	.LVL131:
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1198              		.loc 1 140 82 view .LVU260
 1199 02d6 0022     		movs	r2, #0
 1200 02d8 504B     		ldr	r3, .L52+28
 1201 02da FFF7FEFF 		bl	__aeabi_dadd
 1202              	.LVL132:
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1203              		.loc 1 140 38 view .LVU261
 1204 02de 48A3     		adr	r3, .L52
 1205 02e0 D3E90023 		ldrd	r2, [r3]
 1206 02e4 FFF7FEFF 		bl	__aeabi_dmul
 1207              	.LVL133:
 1208 02e8 0646     		mov	r6, r0
 1209 02ea 0F46     		mov	r7, r1
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1210              		.loc 1 140 91 view .LVU262
 1211 02ec D4F88400 		ldr	r0, [r4, #132]	@ float
 1212 02f0 FFF7FEFF 		bl	__aeabi_f2d
 1213              	.LVL134:
 1214 02f4 0246     		mov	r2, r0
 1215 02f6 0B46     		mov	r3, r1
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1216              		.loc 1 140 28 view .LVU263
 1217 02f8 3046     		mov	r0, r6
 1218 02fa 3946     		mov	r1, r7
 1219 02fc FFF7FEFF 		bl	__aeabi_dmul
 1220              	.LVL135:
 1221 0300 41EC100B 		vmov	d0, r0, r1
 1222 0304 FFF7FEFF 		bl	round
 1223              	.LVL136:
 1224 0308 51EC100B 		vmov	r0, r1, d0
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1225              		.loc 1 140 4 view .LVU264
 1226 030c 2368     		ldr	r3, [r4]
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
 1227              		.loc 1 140 9 view .LVU265
 1228 030e 1E68     		ldr	r6, [r3]
 140:Core/Src/motor.c ****     	m->pwm->Instance->CCR2 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) +  (2.0f * 3.1
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 29


 1229              		.loc 1 140 26 view .LVU266
 1230 0310 FFF7FEFF 		bl	__aeabi_d2uiz
 1231              	.LVL137:
 1232 0314 7063     		str	r0, [r6, #52]
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1233              		.loc 1 141 6 is_stmt 1 view .LVU267
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1234              		.loc 1 141 65 is_stmt 0 view .LVU268
 1235 0316 3CA3     		adr	r3, .L52+8
 1236 0318 D3E90023 		ldrd	r2, [r3]
 1237 031c D4E91801 		ldrd	r0, [r4, #96]
 1238 0320 FFF7FEFF 		bl	__aeabi_dmul
 1239              	.LVL138:
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1240              		.loc 1 141 76 view .LVU269
 1241 0324 0022     		movs	r2, #0
 1242 0326 3C4B     		ldr	r3, .L52+24
 1243 0328 FFF7FEFF 		bl	__aeabi_ddiv
 1244              	.LVL139:
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1245              		.loc 1 141 50 view .LVU270
 1246 032c 38A3     		adr	r3, .L52+16
 1247 032e D3E90023 		ldrd	r2, [r3]
 1248 0332 FFF7FEFF 		bl	__aeabi_dadd
 1249              	.LVL140:
 1250 0336 41EC100B 		vmov	d0, r0, r1
 1251 033a FFF7FEFF 		bl	sin
 1252              	.LVL141:
 1253 033e 51EC100B 		vmov	r0, r1, d0
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1254              		.loc 1 141 48 view .LVU271
 1255 0342 0022     		movs	r2, #0
 1256 0344 354B     		ldr	r3, .L52+28
 1257 0346 FFF7FEFF 		bl	__aeabi_dmul
 1258              	.LVL142:
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1259              		.loc 1 141 114 view .LVU272
 1260 034a 0022     		movs	r2, #0
 1261 034c 334B     		ldr	r3, .L52+28
 1262 034e FFF7FEFF 		bl	__aeabi_dadd
 1263              	.LVL143:
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1264              		.loc 1 141 41 view .LVU273
 1265 0352 2BA3     		adr	r3, .L52
 1266 0354 D3E90023 		ldrd	r2, [r3]
 1267 0358 FFF7FEFF 		bl	__aeabi_dmul
 1268              	.LVL144:
 1269 035c 0646     		mov	r6, r0
 1270 035e 0F46     		mov	r7, r1
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1271              		.loc 1 141 124 view .LVU274
 1272 0360 D4F88400 		ldr	r0, [r4, #132]	@ float
 1273 0364 FFF7FEFF 		bl	__aeabi_f2d
 1274              	.LVL145:
 1275 0368 0246     		mov	r2, r0
 1276 036a 0B46     		mov	r3, r1
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 30


 1277              		.loc 1 141 31 view .LVU275
 1278 036c 3046     		mov	r0, r6
 1279 036e 3946     		mov	r1, r7
 1280 0370 FFF7FEFF 		bl	__aeabi_dmul
 1281              	.LVL146:
 1282 0374 41EC100B 		vmov	d0, r0, r1
 1283 0378 FFF7FEFF 		bl	round
 1284              	.LVL147:
 1285 037c 51EC100B 		vmov	r0, r1, d0
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1286              		.loc 1 141 7 view .LVU276
 1287 0380 2368     		ldr	r3, [r4]
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1288              		.loc 1 141 12 view .LVU277
 1289 0382 1E68     		ldr	r6, [r3]
 141:Core/Src/motor.c ****     	m->pwm->Instance->CCR3 = round(255 * (0.5 * sin((m->angle  *  3.14159 / 180.0f) - (2.0f * 3.14
 1290              		.loc 1 141 29 view .LVU278
 1291 0384 FFF7FEFF 		bl	__aeabi_d2uiz
 1292              	.LVL148:
 1293 0388 B063     		str	r0, [r6, #56]
 142:Core/Src/motor.c **** 	}
 1294              		.loc 1 142 6 is_stmt 1 view .LVU279
 142:Core/Src/motor.c **** 	}
 1295              		.loc 1 142 65 is_stmt 0 view .LVU280
 1296 038a 1FA3     		adr	r3, .L52+8
 1297 038c D3E90023 		ldrd	r2, [r3]
 1298 0390 D4E91801 		ldrd	r0, [r4, #96]
 1299 0394 FFF7FEFF 		bl	__aeabi_dmul
 1300              	.LVL149:
 142:Core/Src/motor.c **** 	}
 1301              		.loc 1 142 76 view .LVU281
 1302 0398 0022     		movs	r2, #0
 1303 039a 1F4B     		ldr	r3, .L52+24
 1304 039c FFF7FEFF 		bl	__aeabi_ddiv
 1305              	.LVL150:
 142:Core/Src/motor.c **** 	}
 1306              		.loc 1 142 50 view .LVU282
 1307 03a0 1BA3     		adr	r3, .L52+16
 1308 03a2 D3E90023 		ldrd	r2, [r3]
 1309 03a6 FFF7FEFF 		bl	__aeabi_dsub
 1310              	.LVL151:
 1311 03aa 41EC100B 		vmov	d0, r0, r1
 1312 03ae FFF7FEFF 		bl	sin
 1313              	.LVL152:
 1314 03b2 51EC100B 		vmov	r0, r1, d0
 142:Core/Src/motor.c **** 	}
 1315              		.loc 1 142 48 view .LVU283
 1316 03b6 0022     		movs	r2, #0
 1317 03b8 184B     		ldr	r3, .L52+28
 1318 03ba FFF7FEFF 		bl	__aeabi_dmul
 1319              	.LVL153:
 142:Core/Src/motor.c **** 	}
 1320              		.loc 1 142 113 view .LVU284
 1321 03be 0022     		movs	r2, #0
 1322 03c0 164B     		ldr	r3, .L52+28
 1323 03c2 FFF7FEFF 		bl	__aeabi_dadd
 1324              	.LVL154:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 31


 142:Core/Src/motor.c **** 	}
 1325              		.loc 1 142 41 view .LVU285
 1326 03c6 0EA3     		adr	r3, .L52
 1327 03c8 D3E90023 		ldrd	r2, [r3]
 1328 03cc FFF7FEFF 		bl	__aeabi_dmul
 1329              	.LVL155:
 1330 03d0 0646     		mov	r6, r0
 1331 03d2 0F46     		mov	r7, r1
 142:Core/Src/motor.c **** 	}
 1332              		.loc 1 142 123 view .LVU286
 1333 03d4 D4F88400 		ldr	r0, [r4, #132]	@ float
 1334 03d8 FFF7FEFF 		bl	__aeabi_f2d
 1335              	.LVL156:
 1336 03dc 0246     		mov	r2, r0
 1337 03de 0B46     		mov	r3, r1
 142:Core/Src/motor.c **** 	}
 1338              		.loc 1 142 31 view .LVU287
 1339 03e0 3046     		mov	r0, r6
 1340 03e2 3946     		mov	r1, r7
 1341 03e4 FFF7FEFF 		bl	__aeabi_dmul
 1342              	.LVL157:
 1343 03e8 41EC100B 		vmov	d0, r0, r1
 1344 03ec FFF7FEFF 		bl	round
 1345              	.LVL158:
 1346 03f0 51EC100B 		vmov	r0, r1, d0
 142:Core/Src/motor.c **** 	}
 1347              		.loc 1 142 7 view .LVU288
 1348 03f4 2368     		ldr	r3, [r4]
 142:Core/Src/motor.c **** 	}
 1349              		.loc 1 142 12 view .LVU289
 1350 03f6 1C68     		ldr	r4, [r3]
 1351              	.LVL159:
 142:Core/Src/motor.c **** 	}
 1352              		.loc 1 142 29 view .LVU290
 1353 03f8 FFF7FEFF 		bl	__aeabi_d2uiz
 1354              	.LVL160:
 1355 03fc E063     		str	r0, [r4, #60]
 144:Core/Src/motor.c **** void MOTOR_task(motor_t* m)
 1356              		.loc 1 144 1 view .LVU291
 1357 03fe 35E7     		b	.L46
 1358              	.L53:
 1359              		.align	3
 1360              	.L52:
 1361 0400 00000000 		.word	0
 1362 0404 00E06F40 		.word	1081073664
 1363 0408 6E861BF0 		.word	-266631570
 1364 040c F9210940 		.word	1074340345
 1365 0410 4904BD4A 		.word	1253901385
 1366 0414 51C10040 		.word	1073791313
 1367 0418 00806640 		.word	1080459264
 1368 041c 0000E03F 		.word	1071644672
 1369              		.cfi_endproc
 1370              	.LFE336:
 1372              		.global	__aeabi_dcmplt
 1373              		.global	__aeabi_dcmpgt
 1374              		.section	.text.MOTOR_FOCtask,"ax",%progbits
 1375              		.align	1
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 32


 1376              		.global	MOTOR_FOCtask
 1377              		.syntax unified
 1378              		.thumb
 1379              		.thumb_func
 1380              		.fpu fpv4-sp-d16
 1382              	MOTOR_FOCtask:
 1383              	.LVL161:
 1384              	.LFB341:
 263:Core/Src/motor.c **** void MOTOR_FOCtask(motor_t* m)
 264:Core/Src/motor.c **** {    // enable all channels
 1385              		.loc 1 264 1 is_stmt 1 view -0
 1386              		.cfi_startproc
 1387              		@ args = 0, pretend = 0, frame = 16
 1388              		@ frame_needed = 0, uses_anonymous_args = 0
 1389              		.loc 1 264 1 is_stmt 0 view .LVU293
 1390 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1391              	.LCFI22:
 1392              		.cfi_def_cfa_offset 32
 1393              		.cfi_offset 4, -32
 1394              		.cfi_offset 5, -28
 1395              		.cfi_offset 6, -24
 1396              		.cfi_offset 7, -20
 1397              		.cfi_offset 8, -16
 1398              		.cfi_offset 9, -12
 1399              		.cfi_offset 10, -8
 1400              		.cfi_offset 14, -4
 1401 0004 2DED028B 		vpush.64	{d8}
 1402              	.LCFI23:
 1403              		.cfi_def_cfa_offset 40
 1404              		.cfi_offset 80, -40
 1405              		.cfi_offset 81, -36
 1406 0008 84B0     		sub	sp, sp, #16
 1407              	.LCFI24:
 1408              		.cfi_def_cfa_offset 56
 1409 000a 8246     		mov	r10, r0
 265:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 1410              		.loc 1 265 5 is_stmt 1 view .LVU294
 1411 000c 0122     		movs	r2, #1
 1412 000e 018C     		ldrh	r1, [r0, #32]
 1413 0010 C069     		ldr	r0, [r0, #28]
 1414              	.LVL162:
 1415              		.loc 1 265 5 is_stmt 0 view .LVU295
 1416 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1417              	.LVL163:
 266:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 1418              		.loc 1 266 5 is_stmt 1 view .LVU296
 1419 0016 0122     		movs	r2, #1
 1420 0018 BAF82810 		ldrh	r1, [r10, #40]
 1421 001c DAF82400 		ldr	r0, [r10, #36]
 1422 0020 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1423              	.LVL164:
 267:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 1424              		.loc 1 267 5 view .LVU297
 1425 0024 0122     		movs	r2, #1
 1426 0026 BAF83010 		ldrh	r1, [r10, #48]
 1427 002a DAF82C00 		ldr	r0, [r10, #44]
 1428 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 33


 1429              	.LVL165:
 268:Core/Src/motor.c ****     //closed loop until angle = 0;
 269:Core/Src/motor.c **** 	//while(m->angle != 0){
 270:Core/Src/motor.c **** 	//	MOTOR_task(m);
 271:Core/Src/motor.c **** 	//}
 272:Core/Src/motor.c ****     // enable encoder and get accurate angle values
 273:Core/Src/motor.c **** 	_adcSelU(m);
 1430              		.loc 1 273 2 view .LVU298
 1431 0032 5046     		mov	r0, r10
 1432 0034 FFF7FEFF 		bl	_adcSelU
 1433              	.LVL166:
 274:Core/Src/motor.c **** 	HAL_ADC_Start(m->adc);
 1434              		.loc 1 274 2 view .LVU299
 1435 0038 DAF83C00 		ldr	r0, [r10, #60]
 1436 003c FFF7FEFF 		bl	HAL_ADC_Start
 1437              	.LVL167:
 275:Core/Src/motor.c **** 	HAL_ADC_PollForConversion(m->adc, 100);
 1438              		.loc 1 275 2 view .LVU300
 1439 0040 6421     		movs	r1, #100
 1440 0042 DAF83C00 		ldr	r0, [r10, #60]
 1441 0046 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 1442              	.LVL168:
 276:Core/Src/motor.c **** 	m->iuDat = ((((double)(HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 1443              		.loc 1 276 2 view .LVU301
 1444              		.loc 1 276 25 is_stmt 0 view .LVU302
 1445 004a DAF83C00 		ldr	r0, [r10, #60]
 1446 004e FFF7FEFF 		bl	HAL_ADC_GetValue
 1447              	.LVL169:
 1448              		.loc 1 276 16 view .LVU303
 1449 0052 FFF7FEFF 		bl	__aeabi_ui2d
 1450              	.LVL170:
 1451              		.loc 1 276 50 view .LVU304
 1452 0056 0022     		movs	r2, #0
 1453 0058 C54B     		ldr	r3, .L77+48
 1454 005a FFF7FEFF 		bl	__aeabi_dmul
 1455              	.LVL171:
 1456              		.loc 1 276 61 view .LVU305
 1457 005e B8A3     		adr	r3, .L77
 1458 0060 D3E90023 		ldrd	r2, [r3]
 1459 0064 FFF7FEFF 		bl	__aeabi_dmul
 1460              	.LVL172:
 1461              		.loc 1 276 72 view .LVU306
 1462 0068 B7A3     		adr	r3, .L77+8
 1463 006a D3E90023 		ldrd	r2, [r3]
 1464 006e FFF7FEFF 		bl	__aeabi_ddiv
 1465              	.LVL173:
 1466 0072 FFF7FEFF 		bl	__aeabi_d2f
 1467              	.LVL174:
 1468              		.loc 1 276 11 view .LVU307
 1469 0076 CAF86800 		str	r0, [r10, #104]	@ float
 277:Core/Src/motor.c **** 	HAL_ADC_Stop(m->adc);
 1470              		.loc 1 277 2 is_stmt 1 view .LVU308
 1471 007a DAF83C00 		ldr	r0, [r10, #60]
 1472 007e FFF7FEFF 		bl	HAL_ADC_Stop
 1473              	.LVL175:
 278:Core/Src/motor.c **** 	_adcSelV(m);
 1474              		.loc 1 278 2 view .LVU309
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 34


 1475 0082 5046     		mov	r0, r10
 1476 0084 FFF7FEFF 		bl	_adcSelV
 1477              	.LVL176:
 279:Core/Src/motor.c **** 	HAL_ADC_Start(m->adc);
 1478              		.loc 1 279 2 view .LVU310
 1479 0088 DAF83C00 		ldr	r0, [r10, #60]
 1480 008c FFF7FEFF 		bl	HAL_ADC_Start
 1481              	.LVL177:
 280:Core/Src/motor.c **** 	HAL_ADC_PollForConversion(m->adc, 100);
 1482              		.loc 1 280 2 view .LVU311
 1483 0090 6421     		movs	r1, #100
 1484 0092 DAF83C00 		ldr	r0, [r10, #60]
 1485 0096 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 1486              	.LVL178:
 281:Core/Src/motor.c **** 	m->ivDat = ((((double)(HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 1487              		.loc 1 281 2 view .LVU312
 1488              		.loc 1 281 25 is_stmt 0 view .LVU313
 1489 009a DAF83C00 		ldr	r0, [r10, #60]
 1490 009e FFF7FEFF 		bl	HAL_ADC_GetValue
 1491              	.LVL179:
 1492              		.loc 1 281 16 view .LVU314
 1493 00a2 FFF7FEFF 		bl	__aeabi_ui2d
 1494              	.LVL180:
 1495              		.loc 1 281 50 view .LVU315
 1496 00a6 0022     		movs	r2, #0
 1497 00a8 B14B     		ldr	r3, .L77+48
 1498 00aa FFF7FEFF 		bl	__aeabi_dmul
 1499              	.LVL181:
 1500              		.loc 1 281 61 view .LVU316
 1501 00ae A4A3     		adr	r3, .L77
 1502 00b0 D3E90023 		ldrd	r2, [r3]
 1503 00b4 FFF7FEFF 		bl	__aeabi_dmul
 1504              	.LVL182:
 1505              		.loc 1 281 72 view .LVU317
 1506 00b8 A3A3     		adr	r3, .L77+8
 1507 00ba D3E90023 		ldrd	r2, [r3]
 1508 00be FFF7FEFF 		bl	__aeabi_ddiv
 1509              	.LVL183:
 1510 00c2 FFF7FEFF 		bl	__aeabi_d2f
 1511              	.LVL184:
 1512              		.loc 1 281 11 view .LVU318
 1513 00c6 CAF86C00 		str	r0, [r10, #108]	@ float
 282:Core/Src/motor.c **** 	HAL_ADC_Stop(m->adc);
 1514              		.loc 1 282 2 is_stmt 1 view .LVU319
 1515 00ca DAF83C00 		ldr	r0, [r10, #60]
 1516 00ce FFF7FEFF 		bl	HAL_ADC_Stop
 1517              	.LVL185:
 283:Core/Src/motor.c **** 	_adcSelW(m);
 1518              		.loc 1 283 2 view .LVU320
 1519 00d2 5046     		mov	r0, r10
 1520 00d4 FFF7FEFF 		bl	_adcSelW
 1521              	.LVL186:
 284:Core/Src/motor.c **** 	HAL_ADC_Start(m->adc);
 1522              		.loc 1 284 2 view .LVU321
 1523 00d8 DAF83C00 		ldr	r0, [r10, #60]
 1524 00dc FFF7FEFF 		bl	HAL_ADC_Start
 1525              	.LVL187:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 35


 285:Core/Src/motor.c **** 	HAL_ADC_PollForConversion(m->adc, 100);
 1526              		.loc 1 285 2 view .LVU322
 1527 00e0 6421     		movs	r1, #100
 1528 00e2 DAF83C00 		ldr	r0, [r10, #60]
 1529 00e6 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 1530              	.LVL188:
 286:Core/Src/motor.c **** 	m->iwDat = ((((double)(HAL_ADC_GetValue(m->adc))/ 4096.0f) * 9200.0f) / 6800.0f);
 1531              		.loc 1 286 2 view .LVU323
 1532              		.loc 1 286 25 is_stmt 0 view .LVU324
 1533 00ea DAF83C00 		ldr	r0, [r10, #60]
 1534 00ee FFF7FEFF 		bl	HAL_ADC_GetValue
 1535              	.LVL189:
 1536              		.loc 1 286 16 view .LVU325
 1537 00f2 FFF7FEFF 		bl	__aeabi_ui2d
 1538              	.LVL190:
 1539              		.loc 1 286 50 view .LVU326
 1540 00f6 0022     		movs	r2, #0
 1541 00f8 9D4B     		ldr	r3, .L77+48
 1542 00fa FFF7FEFF 		bl	__aeabi_dmul
 1543              	.LVL191:
 1544              		.loc 1 286 61 view .LVU327
 1545 00fe 90A3     		adr	r3, .L77
 1546 0100 D3E90023 		ldrd	r2, [r3]
 1547 0104 FFF7FEFF 		bl	__aeabi_dmul
 1548              	.LVL192:
 1549              		.loc 1 286 72 view .LVU328
 1550 0108 8FA3     		adr	r3, .L77+8
 1551 010a D3E90023 		ldrd	r2, [r3]
 1552 010e FFF7FEFF 		bl	__aeabi_ddiv
 1553              	.LVL193:
 1554 0112 FFF7FEFF 		bl	__aeabi_d2f
 1555              	.LVL194:
 1556              		.loc 1 286 11 view .LVU329
 1557 0116 CAF87000 		str	r0, [r10, #112]	@ float
 287:Core/Src/motor.c **** 	HAL_ADC_Stop(m->adc);
 1558              		.loc 1 287 2 is_stmt 1 view .LVU330
 1559 011a DAF83C00 		ldr	r0, [r10, #60]
 1560 011e FFF7FEFF 		bl	HAL_ADC_Stop
 1561              	.LVL195:
 288:Core/Src/motor.c **** 	//m->angle += 0;
 289:Core/Src/motor.c ****     double a = m->iuDat - (0.5f * m->ivDat) - (0.5f * m->iwDat);
 1562              		.loc 1 289 5 view .LVU331
 1563              		.loc 1 289 17 is_stmt 0 view .LVU332
 1564 0122 9AED1A7A 		vldr.32	s14, [r10, #104]
 1565              		.loc 1 289 36 view .LVU333
 1566 0126 DAED1B8A 		vldr.32	s17, [r10, #108]
 1567              		.loc 1 289 33 view .LVU334
 1568 012a F6EE007A 		vmov.f32	s15, #5.0e-1
 1569 012e 68EEA76A 		vmul.f32	s13, s17, s15
 1570              		.loc 1 289 25 view .LVU335
 1571 0132 37EE667A 		vsub.f32	s14, s14, s13
 1572              		.loc 1 289 56 view .LVU336
 1573 0136 9AED1C8A 		vldr.32	s16, [r10, #112]
 1574              		.loc 1 289 53 view .LVU337
 1575 013a 68EE277A 		vmul.f32	s15, s16, s15
 1576              		.loc 1 289 12 view .LVU338
 1577 013e 77EE677A 		vsub.f32	s15, s14, s15
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 36


 1578 0142 17EE900A 		vmov	r0, s15
 1579 0146 FFF7FEFF 		bl	__aeabi_f2d
 1580              	.LVL196:
 1581 014a 0446     		mov	r4, r0
 1582 014c 0D46     		mov	r5, r1
 1583              	.LVL197:
 290:Core/Src/motor.c ****     double b = (double)((0.866 * m->ivDat) - (0.866 * m->iwDat));
 1584              		.loc 1 290 5 is_stmt 1 view .LVU339
 1585              		.loc 1 290 35 is_stmt 0 view .LVU340
 1586 014e 18EE900A 		vmov	r0, s17
 1587 0152 FFF7FEFF 		bl	__aeabi_f2d
 1588              	.LVL198:
 1589              		.loc 1 290 32 view .LVU341
 1590 0156 7EA3     		adr	r3, .L77+16
 1591 0158 D3E90023 		ldrd	r2, [r3]
 1592 015c FFF7FEFF 		bl	__aeabi_dmul
 1593              	.LVL199:
 1594 0160 0646     		mov	r6, r0
 1595 0162 0F46     		mov	r7, r1
 1596              		.loc 1 290 56 view .LVU342
 1597 0164 18EE100A 		vmov	r0, s16
 1598 0168 FFF7FEFF 		bl	__aeabi_f2d
 1599              	.LVL200:
 1600              		.loc 1 290 53 view .LVU343
 1601 016c 78A3     		adr	r3, .L77+16
 1602 016e D3E90023 		ldrd	r2, [r3]
 1603 0172 FFF7FEFF 		bl	__aeabi_dmul
 1604              	.LVL201:
 1605 0176 0246     		mov	r2, r0
 1606 0178 0B46     		mov	r3, r1
 1607              		.loc 1 290 12 view .LVU344
 1608 017a 3046     		mov	r0, r6
 1609 017c 3946     		mov	r1, r7
 1610 017e FFF7FEFF 		bl	__aeabi_dsub
 1611              	.LVL202:
 1612 0182 CDE90001 		strd	r0, [sp]
 1613              	.LVL203:
 291:Core/Src/motor.c ****     // convert to direct and quadriture currents
 292:Core/Src/motor.c ****     double id =  a * cos(((double)m->angle * 3.1415926 / 180.0f)) + b * sin(((double)m->angle * 3.1
 1614              		.loc 1 292 5 is_stmt 1 view .LVU345
 1615              		.loc 1 292 44 is_stmt 0 view .LVU346
 1616 0186 74A3     		adr	r3, .L77+24
 1617 0188 D3E90023 		ldrd	r2, [r3]
 1618 018c DAE91801 		ldrd	r0, [r10, #96]
 1619              	.LVL204:
 1620              		.loc 1 292 44 view .LVU347
 1621 0190 FFF7FEFF 		bl	__aeabi_dmul
 1622              	.LVL205:
 1623              		.loc 1 292 22 view .LVU348
 1624 0194 0022     		movs	r2, #0
 1625 0196 774B     		ldr	r3, .L77+52
 1626 0198 FFF7FEFF 		bl	__aeabi_ddiv
 1627              	.LVL206:
 1628 019c 41EC180B 		vmov	d8, r0, r1
 1629 01a0 41EC100B 		vmov	d0, r0, r1
 1630 01a4 FFF7FEFF 		bl	cos
 1631              	.LVL207:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 37


 1632 01a8 57EC106B 		vmov	r6, r7, d0
 1633              		.loc 1 292 20 view .LVU349
 1634 01ac 2246     		mov	r2, r4
 1635 01ae 2B46     		mov	r3, r5
 1636 01b0 10EE100A 		vmov	r0, s0	@ int
 1637 01b4 3946     		mov	r1, r7
 1638 01b6 FFF7FEFF 		bl	__aeabi_dmul
 1639              	.LVL208:
 1640 01ba CDE90201 		strd	r0, [sp, #8]
 1641              		.loc 1 292 73 view .LVU350
 1642 01be B0EE480A 		vmov.f32	s0, s16
 1643 01c2 F0EE680A 		vmov.f32	s1, s17
 1644 01c6 FFF7FEFF 		bl	sin
 1645              	.LVL209:
 1646 01ca 59EC108B 		vmov	r8, r9, d0
 1647              		.loc 1 292 71 view .LVU351
 1648 01ce DDE90023 		ldrd	r2, [sp]
 1649 01d2 10EE100A 		vmov	r0, s0	@ int
 1650 01d6 4946     		mov	r1, r9
 1651 01d8 FFF7FEFF 		bl	__aeabi_dmul
 1652              	.LVL210:
 1653 01dc 0246     		mov	r2, r0
 1654 01de 0B46     		mov	r3, r1
 1655              		.loc 1 292 12 view .LVU352
 1656 01e0 DDE90201 		ldrd	r0, [sp, #8]
 1657 01e4 FFF7FEFF 		bl	__aeabi_dadd
 1658              	.LVL211:
 1659 01e8 CDE90201 		strd	r0, [sp, #8]
 1660              	.LVL212:
 293:Core/Src/motor.c ****     double iq = -a * sin(((double)m->angle * 3.1415926 / 180.0f)) + b * cos(((double)m->angle * 3.1
 1661              		.loc 1 293 5 is_stmt 1 view .LVU353
 1662              		.loc 1 293 17 is_stmt 0 view .LVU354
 1663 01ec 2246     		mov	r2, r4
 1664 01ee 05F10043 		add	r3, r5, #-2147483648
 1665              		.loc 1 293 20 view .LVU355
 1666 01f2 4046     		mov	r0, r8
 1667              	.LVL213:
 1668              		.loc 1 293 20 view .LVU356
 1669 01f4 4946     		mov	r1, r9
 1670 01f6 FFF7FEFF 		bl	__aeabi_dmul
 1671              	.LVL214:
 1672 01fa 0446     		mov	r4, r0
 1673              	.LVL215:
 1674              		.loc 1 293 20 view .LVU357
 1675 01fc 0D46     		mov	r5, r1
 1676              		.loc 1 293 71 view .LVU358
 1677 01fe DDE90023 		ldrd	r2, [sp]
 1678 0202 3046     		mov	r0, r6
 1679 0204 3946     		mov	r1, r7
 1680 0206 FFF7FEFF 		bl	__aeabi_dmul
 1681              	.LVL216:
 1682 020a 0246     		mov	r2, r0
 1683 020c 0B46     		mov	r3, r1
 1684              		.loc 1 293 12 view .LVU359
 1685 020e 2046     		mov	r0, r4
 1686 0210 2946     		mov	r1, r5
 1687 0212 FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 38


 1688              	.LVL217:
 1689 0216 CDE90001 		strd	r0, [sp]
 1690              	.LVL218:
 294:Core/Src/motor.c ****     //6 Convert to 2 phase voltages using inverse park transform (DOUBLE CHECK THIS)
 295:Core/Src/motor.c ****     double newa = (cos(((double)m->angle * 3.1415926 / 180.0f)) * id) - (sin(((double)m->angle * 3.
 1691              		.loc 1 295 5 is_stmt 1 view .LVU360
 1692              		.loc 1 295 65 is_stmt 0 view .LVU361
 1693 021a DDE90223 		ldrd	r2, [sp, #8]
 1694 021e 3046     		mov	r0, r6
 1695              	.LVL219:
 1696              		.loc 1 295 65 view .LVU362
 1697 0220 3946     		mov	r1, r7
 1698 0222 FFF7FEFF 		bl	__aeabi_dmul
 1699              	.LVL220:
 1700 0226 0446     		mov	r4, r0
 1701 0228 0D46     		mov	r5, r1
 1702              		.loc 1 295 119 view .LVU363
 1703 022a DDE90023 		ldrd	r2, [sp]
 1704 022e 4046     		mov	r0, r8
 1705 0230 4946     		mov	r1, r9
 1706 0232 FFF7FEFF 		bl	__aeabi_dmul
 1707              	.LVL221:
 1708 0236 0246     		mov	r2, r0
 1709 0238 0B46     		mov	r3, r1
 1710              		.loc 1 295 12 view .LVU364
 1711 023a 2046     		mov	r0, r4
 1712 023c 2946     		mov	r1, r5
 1713 023e FFF7FEFF 		bl	__aeabi_dsub
 1714              	.LVL222:
 1715 0242 0446     		mov	r4, r0
 1716 0244 0D46     		mov	r5, r1
 1717              	.LVL223:
 296:Core/Src/motor.c ****     double newb = (sin(((double)m->angle * 3.1415926 / 180.0f)) * id) + (cos(((double)m->angle * 3.
 1718              		.loc 1 296 5 is_stmt 1 view .LVU365
 1719              		.loc 1 296 65 is_stmt 0 view .LVU366
 1720 0246 DDE90223 		ldrd	r2, [sp, #8]
 1721 024a 4046     		mov	r0, r8
 1722 024c 4946     		mov	r1, r9
 1723 024e FFF7FEFF 		bl	__aeabi_dmul
 1724              	.LVL224:
 1725 0252 8046     		mov	r8, r0
 1726 0254 8946     		mov	r9, r1
 1727              		.loc 1 296 119 view .LVU367
 1728 0256 DDE90023 		ldrd	r2, [sp]
 1729 025a 3046     		mov	r0, r6
 1730 025c 3946     		mov	r1, r7
 1731 025e FFF7FEFF 		bl	__aeabi_dmul
 1732              	.LVL225:
 1733 0262 0246     		mov	r2, r0
 1734 0264 0B46     		mov	r3, r1
 1735              		.loc 1 296 12 view .LVU368
 1736 0266 4046     		mov	r0, r8
 1737 0268 4946     		mov	r1, r9
 1738 026a FFF7FEFF 		bl	__aeabi_dadd
 1739              	.LVL226:
 1740 026e 0646     		mov	r6, r0
 1741 0270 0F46     		mov	r7, r1
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 39


 1742              	.LVL227:
 297:Core/Src/motor.c ****     //7 Convert to 3 phase voltages using inverse clarke transform
 298:Core/Src/motor.c ****     double U_dutyCycle = (double)(newa * 0.512f);
 1743              		.loc 1 298 5 is_stmt 1 view .LVU369
 1744              		.loc 1 298 12 is_stmt 0 view .LVU370
 1745 0272 3BA3     		adr	r3, .L77+32
 1746 0274 D3E90023 		ldrd	r2, [r3]
 1747 0278 2046     		mov	r0, r4
 1748 027a 2946     		mov	r1, r5
 1749 027c FFF7FEFF 		bl	__aeabi_dmul
 1750              	.LVL228:
 1751 0280 8046     		mov	r8, r0
 1752 0282 8946     		mov	r9, r1
 1753              	.LVL229:
 299:Core/Src/motor.c ****     double V_dutyCycle = (double)((-0.5f * newa) + ((sqrt(3.0f)/2.0f) * newb));
 1754              		.loc 1 299 5 is_stmt 1 view .LVU371
 1755              		.loc 1 299 42 is_stmt 0 view .LVU372
 1756 0284 0022     		movs	r2, #0
 1757 0286 3C4B     		ldr	r3, .L77+56
 1758 0288 2046     		mov	r0, r4
 1759 028a 2946     		mov	r1, r5
 1760 028c FFF7FEFF 		bl	__aeabi_dmul
 1761              	.LVL230:
 1762 0290 CDE90001 		strd	r0, [sp]
 1763              	.LVL231:
 1764              		.loc 1 299 71 view .LVU373
 1765 0294 34A3     		adr	r3, .L77+40
 1766 0296 D3E90023 		ldrd	r2, [r3]
 1767 029a 3046     		mov	r0, r6
 1768 029c 3946     		mov	r1, r7
 1769 029e FFF7FEFF 		bl	__aeabi_dmul
 1770              	.LVL232:
 1771 02a2 0446     		mov	r4, r0
 1772              	.LVL233:
 1773              		.loc 1 299 71 view .LVU374
 1774 02a4 0D46     		mov	r5, r1
 1775              		.loc 1 299 12 view .LVU375
 1776 02a6 0246     		mov	r2, r0
 1777 02a8 0B46     		mov	r3, r1
 1778 02aa DDE90001 		ldrd	r0, [sp]
 1779 02ae FFF7FEFF 		bl	__aeabi_dadd
 1780              	.LVL234:
 1781 02b2 0646     		mov	r6, r0
 1782              	.LVL235:
 1783              		.loc 1 299 12 view .LVU376
 1784 02b4 0F46     		mov	r7, r1
 1785              	.LVL236:
 300:Core/Src/motor.c ****     double W_dutyCycle = (double)((-0.5f * newa) - ((sqrt(3.0f)/2.0f) * newb));
 1786              		.loc 1 300 5 is_stmt 1 view .LVU377
 1787              		.loc 1 300 12 is_stmt 0 view .LVU378
 1788 02b6 2246     		mov	r2, r4
 1789 02b8 2B46     		mov	r3, r5
 1790 02ba DDE90001 		ldrd	r0, [sp]
 1791 02be FFF7FEFF 		bl	__aeabi_dsub
 1792              	.LVL237:
 1793 02c2 0446     		mov	r4, r0
 1794 02c4 0D46     		mov	r5, r1
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 40


 1795              	.LVL238:
 301:Core/Src/motor.c **** 	if(U_dutyCycle < 0){
 1796              		.loc 1 301 2 is_stmt 1 view .LVU379
 1797              		.loc 1 301 4 is_stmt 0 view .LVU380
 1798 02c6 0022     		movs	r2, #0
 1799 02c8 0023     		movs	r3, #0
 1800 02ca 4046     		mov	r0, r8
 1801 02cc 4946     		mov	r1, r9
 1802 02ce FFF7FEFF 		bl	__aeabi_dcmplt
 1803              	.LVL239:
 1804 02d2 58B9     		cbnz	r0, .L74
 302:Core/Src/motor.c **** 		U_dutyCycle = -U_dutyCycle;
 303:Core/Src/motor.c **** 	}
 304:Core/Src/motor.c **** 	else if(U_dutyCycle > 1){
 1805              		.loc 1 304 7 is_stmt 1 view .LVU381
 1806              		.loc 1 304 9 is_stmt 0 view .LVU382
 1807 02d4 0022     		movs	r2, #0
 1808 02d6 294B     		ldr	r3, .L77+60
 1809 02d8 4046     		mov	r0, r8
 1810 02da 4946     		mov	r1, r9
 1811 02dc FFF7FEFF 		bl	__aeabi_dcmpgt
 1812              	.LVL240:
 1813 02e0 38B1     		cbz	r0, .L57
 305:Core/Src/motor.c **** 		U_dutyCycle = 1;
 1814              		.loc 1 305 15 view .LVU383
 1815 02e2 4FF00008 		mov	r8, #0
 1816              	.LVL241:
 1817              		.loc 1 305 15 view .LVU384
 1818 02e6 DFF89490 		ldr	r9, .L77+60
 1819 02ea 02E0     		b	.L57
 1820              	.LVL242:
 1821              	.L74:
 302:Core/Src/motor.c **** 		U_dutyCycle = -U_dutyCycle;
 1822              		.loc 1 302 3 is_stmt 1 view .LVU385
 302:Core/Src/motor.c **** 		U_dutyCycle = -U_dutyCycle;
 1823              		.loc 1 302 15 is_stmt 0 view .LVU386
 1824 02ec 09F10043 		add	r3, r9, #-2147483648
 1825 02f0 9946     		mov	r9, r3
 1826              	.LVL243:
 1827              	.L57:
 306:Core/Src/motor.c **** 	}
 307:Core/Src/motor.c **** 	if(V_dutyCycle < 0){
 1828              		.loc 1 307 2 is_stmt 1 view .LVU387
 1829              		.loc 1 307 4 is_stmt 0 view .LVU388
 1830 02f2 0022     		movs	r2, #0
 1831 02f4 0023     		movs	r3, #0
 1832 02f6 3046     		mov	r0, r6
 1833 02f8 3946     		mov	r1, r7
 1834 02fa FFF7FEFF 		bl	__aeabi_dcmplt
 1835              	.LVL244:
 1836 02fe 48B9     		cbnz	r0, .L75
 308:Core/Src/motor.c **** 		V_dutyCycle = -V_dutyCycle;
 309:Core/Src/motor.c **** 	}
 310:Core/Src/motor.c **** 	else if(V_dutyCycle > 1){
 1837              		.loc 1 310 7 is_stmt 1 view .LVU389
 1838              		.loc 1 310 9 is_stmt 0 view .LVU390
 1839 0300 0022     		movs	r2, #0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 41


 1840 0302 1E4B     		ldr	r3, .L77+60
 1841 0304 3046     		mov	r0, r6
 1842 0306 3946     		mov	r1, r7
 1843 0308 FFF7FEFF 		bl	__aeabi_dcmpgt
 1844              	.LVL245:
 1845 030c 28B1     		cbz	r0, .L60
 311:Core/Src/motor.c **** 		V_dutyCycle = 1;
 1846              		.loc 1 311 15 view .LVU391
 1847 030e 0026     		movs	r6, #0
 1848              	.LVL246:
 1849              		.loc 1 311 15 view .LVU392
 1850 0310 1A4F     		ldr	r7, .L77+60
 1851 0312 02E0     		b	.L60
 1852              	.LVL247:
 1853              	.L75:
 308:Core/Src/motor.c **** 		V_dutyCycle = -V_dutyCycle;
 1854              		.loc 1 308 3 is_stmt 1 view .LVU393
 308:Core/Src/motor.c **** 		V_dutyCycle = -V_dutyCycle;
 1855              		.loc 1 308 15 is_stmt 0 view .LVU394
 1856 0314 07F10043 		add	r3, r7, #-2147483648
 1857 0318 1F46     		mov	r7, r3
 1858              	.LVL248:
 1859              	.L60:
 312:Core/Src/motor.c **** 	}
 313:Core/Src/motor.c **** 	if(W_dutyCycle < 0){
 1860              		.loc 1 313 2 is_stmt 1 view .LVU395
 1861              		.loc 1 313 4 is_stmt 0 view .LVU396
 1862 031a 0022     		movs	r2, #0
 1863 031c 0023     		movs	r3, #0
 1864 031e 2046     		mov	r0, r4
 1865 0320 2946     		mov	r1, r5
 1866 0322 FFF7FEFF 		bl	__aeabi_dcmplt
 1867              	.LVL249:
 1868 0326 58BB     		cbnz	r0, .L76
 314:Core/Src/motor.c **** 		W_dutyCycle = -W_dutyCycle;
 315:Core/Src/motor.c **** 	}
 316:Core/Src/motor.c **** 	else if(W_dutyCycle > 1){
 1869              		.loc 1 316 7 is_stmt 1 view .LVU397
 1870              		.loc 1 316 9 is_stmt 0 view .LVU398
 1871 0328 0022     		movs	r2, #0
 1872 032a 144B     		ldr	r3, .L77+60
 1873 032c 2046     		mov	r0, r4
 1874 032e 2946     		mov	r1, r5
 1875 0330 FFF7FEFF 		bl	__aeabi_dcmpgt
 1876              	.LVL250:
 1877 0334 38B3     		cbz	r0, .L63
 317:Core/Src/motor.c **** 		W_dutyCycle = 1;
 1878              		.loc 1 317 15 view .LVU399
 1879 0336 0024     		movs	r4, #0
 1880              	.LVL251:
 1881              		.loc 1 317 15 view .LVU400
 1882 0338 104D     		ldr	r5, .L77+60
 1883 033a 24E0     		b	.L63
 1884              	.L78:
 1885 033c AFF30080 		.align	3
 1886              	.L77:
 1887 0340 00000000 		.word	0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 42


 1888 0344 00F8C140 		.word	1086453760
 1889 0348 00000000 		.word	0
 1890 034c 0090BA40 		.word	1085968384
 1891 0350 83C0CAA1 		.word	-1580547965
 1892 0354 45B6EB3F 		.word	1072412229
 1893 0358 4AD8124D 		.word	1293080650
 1894 035c FB210940 		.word	1074340347
 1895 0360 000000E0 		.word	-536870912
 1896 0364 4D62E03F 		.word	1071669837
 1897 0368 AA4C58E8 		.word	-396866390
 1898 036c 7AB6EB3F 		.word	1072412282
 1899 0370 0000303F 		.word	1060110336
 1900 0374 00806640 		.word	1080459264
 1901 0378 0000E0BF 		.word	-1075838976
 1902 037c 0000F03F 		.word	1072693248
 1903              	.LVL252:
 1904              	.L76:
 314:Core/Src/motor.c **** 		W_dutyCycle = -W_dutyCycle;
 1905              		.loc 1 314 3 is_stmt 1 view .LVU401
 314:Core/Src/motor.c **** 		W_dutyCycle = -W_dutyCycle;
 1906              		.loc 1 314 15 is_stmt 0 view .LVU402
 1907 0380 05F10043 		add	r3, r5, #-2147483648
 1908 0384 1D46     		mov	r5, r3
 1909              	.LVL253:
 1910              	.L63:
 318:Core/Src/motor.c **** 	}
 319:Core/Src/motor.c **** 
 320:Core/Src/motor.c **** 	m->pwm->Instance->CCR1 = round(255 * U_dutyCycle);
 1911              		.loc 1 320 2 is_stmt 1 view .LVU403
 1912              		.loc 1 320 27 is_stmt 0 view .LVU404
 1913 0386 20A3     		adr	r3, .L79
 1914 0388 D3E90023 		ldrd	r2, [r3]
 1915 038c 4046     		mov	r0, r8
 1916 038e 4946     		mov	r1, r9
 1917 0390 FFF7FEFF 		bl	__aeabi_dmul
 1918              	.LVL254:
 1919 0394 41EC100B 		vmov	d0, r0, r1
 1920 0398 FFF7FEFF 		bl	round
 1921              	.LVL255:
 1922 039c 51EC100B 		vmov	r0, r1, d0
 1923              		.loc 1 320 3 view .LVU405
 1924 03a0 DAF80030 		ldr	r3, [r10]
 1925              		.loc 1 320 8 view .LVU406
 1926 03a4 D3F80080 		ldr	r8, [r3]
 1927              	.LVL256:
 1928              		.loc 1 320 25 view .LVU407
 1929 03a8 FFF7FEFF 		bl	__aeabi_d2uiz
 1930              	.LVL257:
 1931 03ac C8F83400 		str	r0, [r8, #52]
 321:Core/Src/motor.c ****     m->pwm->Instance->CCR2 = round(255 * V_dutyCycle);
 1932              		.loc 1 321 5 is_stmt 1 view .LVU408
 1933              		.loc 1 321 30 is_stmt 0 view .LVU409
 1934 03b0 15A3     		adr	r3, .L79
 1935 03b2 D3E90023 		ldrd	r2, [r3]
 1936 03b6 3046     		mov	r0, r6
 1937 03b8 3946     		mov	r1, r7
 1938 03ba FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 43


 1939              	.LVL258:
 1940 03be 41EC100B 		vmov	d0, r0, r1
 1941 03c2 FFF7FEFF 		bl	round
 1942              	.LVL259:
 1943 03c6 51EC100B 		vmov	r0, r1, d0
 1944              		.loc 1 321 6 view .LVU410
 1945 03ca DAF80030 		ldr	r3, [r10]
 1946              		.loc 1 321 11 view .LVU411
 1947 03ce 1E68     		ldr	r6, [r3]
 1948              	.LVL260:
 1949              		.loc 1 321 28 view .LVU412
 1950 03d0 FFF7FEFF 		bl	__aeabi_d2uiz
 1951              	.LVL261:
 1952 03d4 B063     		str	r0, [r6, #56]
 322:Core/Src/motor.c ****     m->pwm->Instance->CCR3 = round(255 * W_dutyCycle);
 1953              		.loc 1 322 5 is_stmt 1 view .LVU413
 1954              		.loc 1 322 30 is_stmt 0 view .LVU414
 1955 03d6 0CA3     		adr	r3, .L79
 1956 03d8 D3E90023 		ldrd	r2, [r3]
 1957 03dc 2046     		mov	r0, r4
 1958 03de 2946     		mov	r1, r5
 1959 03e0 FFF7FEFF 		bl	__aeabi_dmul
 1960              	.LVL262:
 1961 03e4 41EC100B 		vmov	d0, r0, r1
 1962 03e8 FFF7FEFF 		bl	round
 1963              	.LVL263:
 1964 03ec 51EC100B 		vmov	r0, r1, d0
 1965              		.loc 1 322 6 view .LVU415
 1966 03f0 DAF80030 		ldr	r3, [r10]
 1967              		.loc 1 322 11 view .LVU416
 1968 03f4 1C68     		ldr	r4, [r3]
 1969              	.LVL264:
 1970              		.loc 1 322 28 view .LVU417
 1971 03f6 FFF7FEFF 		bl	__aeabi_d2uiz
 1972              	.LVL265:
 1973 03fa E063     		str	r0, [r4, #60]
 323:Core/Src/motor.c **** }
 1974              		.loc 1 323 1 view .LVU418
 1975 03fc 04B0     		add	sp, sp, #16
 1976              	.LCFI25:
 1977              		.cfi_def_cfa_offset 40
 1978              		@ sp needed
 1979 03fe BDEC028B 		vldm	sp!, {d8}
 1980              	.LCFI26:
 1981              		.cfi_restore 80
 1982              		.cfi_restore 81
 1983              		.cfi_def_cfa_offset 32
 1984 0402 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1985              	.LVL266:
 1986              	.L80:
 1987              		.loc 1 323 1 view .LVU419
 1988 0406 00BF     		.align	3
 1989              	.L79:
 1990 0408 00000000 		.word	0
 1991 040c 00E06F40 		.word	1081073664
 1992              		.cfi_endproc
 1993              	.LFE341:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 44


 1995              		.section	.text._drive_u,"ax",%progbits
 1996              		.align	1
 1997              		.global	_drive_u
 1998              		.syntax unified
 1999              		.thumb
 2000              		.thumb_func
 2001              		.fpu fpv4-sp-d16
 2003              	_drive_u:
 2004              	.LVL267:
 2005              	.LFB342:
 324:Core/Src/motor.c **** void _drive_u(motor_t* m){
 2006              		.loc 1 324 26 is_stmt 1 view -0
 2007              		.cfi_startproc
 2008              		@ args = 0, pretend = 0, frame = 0
 2009              		@ frame_needed = 0, uses_anonymous_args = 0
 2010              		.loc 1 324 26 is_stmt 0 view .LVU421
 2011 0000 10B5     		push	{r4, lr}
 2012              	.LCFI27:
 2013              		.cfi_def_cfa_offset 8
 2014              		.cfi_offset 4, -8
 2015              		.cfi_offset 14, -4
 2016 0002 0446     		mov	r4, r0
 325:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 2017              		.loc 1 325 5 is_stmt 1 view .LVU422
 2018 0004 0122     		movs	r2, #1
 2019 0006 018C     		ldrh	r1, [r0, #32]
 2020 0008 C069     		ldr	r0, [r0, #28]
 2021              	.LVL268:
 2022              		.loc 1 325 5 is_stmt 0 view .LVU423
 2023 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2024              	.LVL269:
 326:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 0);
 2025              		.loc 1 326 5 is_stmt 1 view .LVU424
 2026 000e 0022     		movs	r2, #0
 2027 0010 218D     		ldrh	r1, [r4, #40]
 2028 0012 606A     		ldr	r0, [r4, #36]
 2029 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2030              	.LVL270:
 327:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 0);
 2031              		.loc 1 327 5 view .LVU425
 2032 0018 0022     		movs	r2, #0
 2033 001a 218E     		ldrh	r1, [r4, #48]
 2034 001c E06A     		ldr	r0, [r4, #44]
 2035 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2036              	.LVL271:
 328:Core/Src/motor.c **** }
 2037              		.loc 1 328 1 is_stmt 0 view .LVU426
 2038 0022 10BD     		pop	{r4, pc}
 2039              		.loc 1 328 1 view .LVU427
 2040              		.cfi_endproc
 2041              	.LFE342:
 2043              		.section	.text._drive_v,"ax",%progbits
 2044              		.align	1
 2045              		.global	_drive_v
 2046              		.syntax unified
 2047              		.thumb
 2048              		.thumb_func
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 45


 2049              		.fpu fpv4-sp-d16
 2051              	_drive_v:
 2052              	.LVL272:
 2053              	.LFB343:
 329:Core/Src/motor.c **** void _drive_v(motor_t* m){
 2054              		.loc 1 329 26 is_stmt 1 view -0
 2055              		.cfi_startproc
 2056              		@ args = 0, pretend = 0, frame = 0
 2057              		@ frame_needed = 0, uses_anonymous_args = 0
 2058              		.loc 1 329 26 is_stmt 0 view .LVU429
 2059 0000 10B5     		push	{r4, lr}
 2060              	.LCFI28:
 2061              		.cfi_def_cfa_offset 8
 2062              		.cfi_offset 4, -8
 2063              		.cfi_offset 14, -4
 2064 0002 0446     		mov	r4, r0
 330:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 0);
 2065              		.loc 1 330 5 is_stmt 1 view .LVU430
 2066 0004 0022     		movs	r2, #0
 2067 0006 018C     		ldrh	r1, [r0, #32]
 2068 0008 C069     		ldr	r0, [r0, #28]
 2069              	.LVL273:
 2070              		.loc 1 330 5 is_stmt 0 view .LVU431
 2071 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2072              	.LVL274:
 331:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 2073              		.loc 1 331 5 is_stmt 1 view .LVU432
 2074 000e 0122     		movs	r2, #1
 2075 0010 218D     		ldrh	r1, [r4, #40]
 2076 0012 606A     		ldr	r0, [r4, #36]
 2077 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2078              	.LVL275:
 332:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 0);
 2079              		.loc 1 332 5 view .LVU433
 2080 0018 0022     		movs	r2, #0
 2081 001a 218E     		ldrh	r1, [r4, #48]
 2082 001c E06A     		ldr	r0, [r4, #44]
 2083 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2084              	.LVL276:
 333:Core/Src/motor.c **** }
 2085              		.loc 1 333 1 is_stmt 0 view .LVU434
 2086 0022 10BD     		pop	{r4, pc}
 2087              		.loc 1 333 1 view .LVU435
 2088              		.cfi_endproc
 2089              	.LFE343:
 2091              		.section	.text._drive_w,"ax",%progbits
 2092              		.align	1
 2093              		.global	_drive_w
 2094              		.syntax unified
 2095              		.thumb
 2096              		.thumb_func
 2097              		.fpu fpv4-sp-d16
 2099              	_drive_w:
 2100              	.LVL277:
 2101              	.LFB344:
 334:Core/Src/motor.c **** void _drive_w(motor_t* m){
 2102              		.loc 1 334 26 is_stmt 1 view -0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 46


 2103              		.cfi_startproc
 2104              		@ args = 0, pretend = 0, frame = 0
 2105              		@ frame_needed = 0, uses_anonymous_args = 0
 2106              		.loc 1 334 26 is_stmt 0 view .LVU437
 2107 0000 10B5     		push	{r4, lr}
 2108              	.LCFI29:
 2109              		.cfi_def_cfa_offset 8
 2110              		.cfi_offset 4, -8
 2111              		.cfi_offset 14, -4
 2112 0002 0446     		mov	r4, r0
 335:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 0);
 2113              		.loc 1 335 5 is_stmt 1 view .LVU438
 2114 0004 0022     		movs	r2, #0
 2115 0006 018C     		ldrh	r1, [r0, #32]
 2116 0008 C069     		ldr	r0, [r0, #28]
 2117              	.LVL278:
 2118              		.loc 1 335 5 is_stmt 0 view .LVU439
 2119 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2120              	.LVL279:
 336:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 0);
 2121              		.loc 1 336 5 is_stmt 1 view .LVU440
 2122 000e 0022     		movs	r2, #0
 2123 0010 218D     		ldrh	r1, [r4, #40]
 2124 0012 606A     		ldr	r0, [r4, #36]
 2125 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2126              	.LVL280:
 337:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 2127              		.loc 1 337 5 view .LVU441
 2128 0018 0122     		movs	r2, #1
 2129 001a 218E     		ldrh	r1, [r4, #48]
 2130 001c E06A     		ldr	r0, [r4, #44]
 2131 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2132              	.LVL281:
 338:Core/Src/motor.c **** }
 2133              		.loc 1 338 1 is_stmt 0 view .LVU442
 2134 0022 10BD     		pop	{r4, pc}
 2135              		.loc 1 338 1 view .LVU443
 2136              		.cfi_endproc
 2137              	.LFE344:
 2139              		.section	.text._drive_uv,"ax",%progbits
 2140              		.align	1
 2141              		.global	_drive_uv
 2142              		.syntax unified
 2143              		.thumb
 2144              		.thumb_func
 2145              		.fpu fpv4-sp-d16
 2147              	_drive_uv:
 2148              	.LVL282:
 2149              	.LFB345:
 339:Core/Src/motor.c **** void _drive_uv(motor_t* m){
 2150              		.loc 1 339 27 is_stmt 1 view -0
 2151              		.cfi_startproc
 2152              		@ args = 0, pretend = 0, frame = 0
 2153              		@ frame_needed = 0, uses_anonymous_args = 0
 2154              		.loc 1 339 27 is_stmt 0 view .LVU445
 2155 0000 10B5     		push	{r4, lr}
 2156              	.LCFI30:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 47


 2157              		.cfi_def_cfa_offset 8
 2158              		.cfi_offset 4, -8
 2159              		.cfi_offset 14, -4
 2160 0002 0446     		mov	r4, r0
 340:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 2161              		.loc 1 340 5 is_stmt 1 view .LVU446
 2162 0004 0122     		movs	r2, #1
 2163 0006 018C     		ldrh	r1, [r0, #32]
 2164 0008 C069     		ldr	r0, [r0, #28]
 2165              	.LVL283:
 2166              		.loc 1 340 5 is_stmt 0 view .LVU447
 2167 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2168              	.LVL284:
 341:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 2169              		.loc 1 341 5 is_stmt 1 view .LVU448
 2170 000e 0122     		movs	r2, #1
 2171 0010 218D     		ldrh	r1, [r4, #40]
 2172 0012 606A     		ldr	r0, [r4, #36]
 2173 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2174              	.LVL285:
 342:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 0);
 2175              		.loc 1 342 5 view .LVU449
 2176 0018 0022     		movs	r2, #0
 2177 001a 218E     		ldrh	r1, [r4, #48]
 2178 001c E06A     		ldr	r0, [r4, #44]
 2179 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2180              	.LVL286:
 343:Core/Src/motor.c **** }
 2181              		.loc 1 343 1 is_stmt 0 view .LVU450
 2182 0022 10BD     		pop	{r4, pc}
 2183              		.loc 1 343 1 view .LVU451
 2184              		.cfi_endproc
 2185              	.LFE345:
 2187              		.section	.text._drive_vw,"ax",%progbits
 2188              		.align	1
 2189              		.global	_drive_vw
 2190              		.syntax unified
 2191              		.thumb
 2192              		.thumb_func
 2193              		.fpu fpv4-sp-d16
 2195              	_drive_vw:
 2196              	.LVL287:
 2197              	.LFB346:
 344:Core/Src/motor.c **** void _drive_vw(motor_t* m){
 2198              		.loc 1 344 27 is_stmt 1 view -0
 2199              		.cfi_startproc
 2200              		@ args = 0, pretend = 0, frame = 0
 2201              		@ frame_needed = 0, uses_anonymous_args = 0
 2202              		.loc 1 344 27 is_stmt 0 view .LVU453
 2203 0000 10B5     		push	{r4, lr}
 2204              	.LCFI31:
 2205              		.cfi_def_cfa_offset 8
 2206              		.cfi_offset 4, -8
 2207              		.cfi_offset 14, -4
 2208 0002 0446     		mov	r4, r0
 345:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 0);
 2209              		.loc 1 345 5 is_stmt 1 view .LVU454
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 48


 2210 0004 0022     		movs	r2, #0
 2211 0006 018C     		ldrh	r1, [r0, #32]
 2212 0008 C069     		ldr	r0, [r0, #28]
 2213              	.LVL288:
 2214              		.loc 1 345 5 is_stmt 0 view .LVU455
 2215 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2216              	.LVL289:
 346:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 1);
 2217              		.loc 1 346 5 is_stmt 1 view .LVU456
 2218 000e 0122     		movs	r2, #1
 2219 0010 218D     		ldrh	r1, [r4, #40]
 2220 0012 606A     		ldr	r0, [r4, #36]
 2221 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2222              	.LVL290:
 347:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 2223              		.loc 1 347 5 view .LVU457
 2224 0018 0122     		movs	r2, #1
 2225 001a 218E     		ldrh	r1, [r4, #48]
 2226 001c E06A     		ldr	r0, [r4, #44]
 2227 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2228              	.LVL291:
 348:Core/Src/motor.c **** }
 2229              		.loc 1 348 1 is_stmt 0 view .LVU458
 2230 0022 10BD     		pop	{r4, pc}
 2231              		.loc 1 348 1 view .LVU459
 2232              		.cfi_endproc
 2233              	.LFE346:
 2235              		.section	.text._drive_wu,"ax",%progbits
 2236              		.align	1
 2237              		.global	_drive_wu
 2238              		.syntax unified
 2239              		.thumb
 2240              		.thumb_func
 2241              		.fpu fpv4-sp-d16
 2243              	_drive_wu:
 2244              	.LVL292:
 2245              	.LFB347:
 349:Core/Src/motor.c **** void _drive_wu(motor_t* m){
 2246              		.loc 1 349 27 is_stmt 1 view -0
 2247              		.cfi_startproc
 2248              		@ args = 0, pretend = 0, frame = 0
 2249              		@ frame_needed = 0, uses_anonymous_args = 0
 2250              		.loc 1 349 27 is_stmt 0 view .LVU461
 2251 0000 10B5     		push	{r4, lr}
 2252              	.LCFI32:
 2253              		.cfi_def_cfa_offset 8
 2254              		.cfi_offset 4, -8
 2255              		.cfi_offset 14, -4
 2256 0002 0446     		mov	r4, r0
 350:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[0].gpioGroup, m->enablePins[0].gpioPin, 1);
 2257              		.loc 1 350 5 is_stmt 1 view .LVU462
 2258 0004 0122     		movs	r2, #1
 2259 0006 018C     		ldrh	r1, [r0, #32]
 2260 0008 C069     		ldr	r0, [r0, #28]
 2261              	.LVL293:
 2262              		.loc 1 350 5 is_stmt 0 view .LVU463
 2263 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 49


 2264              	.LVL294:
 351:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[1].gpioGroup, m->enablePins[1].gpioPin, 0);
 2265              		.loc 1 351 5 is_stmt 1 view .LVU464
 2266 000e 0022     		movs	r2, #0
 2267 0010 218D     		ldrh	r1, [r4, #40]
 2268 0012 606A     		ldr	r0, [r4, #36]
 2269 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2270              	.LVL295:
 352:Core/Src/motor.c ****     HAL_GPIO_WritePin(m->enablePins[2].gpioGroup, m->enablePins[2].gpioPin, 1);
 2271              		.loc 1 352 5 view .LVU465
 2272 0018 0122     		movs	r2, #1
 2273 001a 218E     		ldrh	r1, [r4, #48]
 2274 001c E06A     		ldr	r0, [r4, #44]
 2275 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2276              	.LVL296:
 353:Core/Src/motor.c **** }...
 2277              		.loc 1 353 1 is_stmt 0 view .LVU466
 2278 0022 10BD     		pop	{r4, pc}
 2279              		.loc 1 353 1 view .LVU467
 2280              		.cfi_endproc
 2281              	.LFE347:
 2283              		.section	.text.MOTOR_task,"ax",%progbits
 2284              		.align	1
 2285              		.global	MOTOR_task
 2286              		.syntax unified
 2287              		.thumb
 2288              		.thumb_func
 2289              		.fpu fpv4-sp-d16
 2291              	MOTOR_task:
 2292              	.LVL297:
 2293              	.LFB337:
 146:Core/Src/motor.c **** {
 2294              		.loc 1 146 1 is_stmt 1 view -0
 2295              		.cfi_startproc
 2296              		@ args = 0, pretend = 0, frame = 0
 2297              		@ frame_needed = 0, uses_anonymous_args = 0
 146:Core/Src/motor.c **** {
 2298              		.loc 1 146 1 is_stmt 0 view .LVU469
 2299 0000 D0B5     		push	{r4, r6, r7, lr}
 2300              	.LCFI33:
 2301              		.cfi_def_cfa_offset 16
 2302              		.cfi_offset 4, -16
 2303              		.cfi_offset 6, -12
 2304              		.cfi_offset 7, -8
 2305              		.cfi_offset 14, -4
 2306 0002 0446     		mov	r4, r0
 148:Core/Src/motor.c ****     if(m->angle < 60)
 2307              		.loc 1 148 5 is_stmt 1 view .LVU470
 148:Core/Src/motor.c ****     if(m->angle < 60)
 2308              		.loc 1 148 9 is_stmt 0 view .LVU471
 2309 0004 D0E91867 		ldrd	r6, [r0, #96]
 148:Core/Src/motor.c ****     if(m->angle < 60)
 2310              		.loc 1 148 7 view .LVU472
 2311 0008 0022     		movs	r2, #0
 2312 000a C34B     		ldr	r3, .L124+8
 2313 000c 3046     		mov	r0, r6
 2314              	.LVL298:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 50


 148:Core/Src/motor.c ****     if(m->angle < 60)
 2315              		.loc 1 148 7 view .LVU473
 2316 000e 3946     		mov	r1, r7
 2317 0010 FFF7FEFF 		bl	__aeabi_dcmplt
 2318              	.LVL299:
 2319 0014 0028     		cmp	r0, #0
 2320 0016 3CD0     		beq	.L118
 150:Core/Src/motor.c ****     	if(m->dir) {
 2321              		.loc 1 150 6 is_stmt 1 view .LVU474
 150:Core/Src/motor.c ****     	if(m->dir) {
 2322              		.loc 1 150 10 is_stmt 0 view .LVU475
 2323 0018 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 150:Core/Src/motor.c ****     	if(m->dir) {
 2324              		.loc 1 150 8 view .LVU476
 2325 001c E3B1     		cbz	r3, .L96
 151:Core/Src/motor.c ****     		_drive_wu(m);
 2326              		.loc 1 151 7 is_stmt 1 view .LVU477
 2327 001e 2046     		mov	r0, r4
 2328 0020 FFF7FEFF 		bl	_drive_wu
 2329              	.LVL300:
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2330              		.loc 1 152 7 view .LVU478
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2331              		.loc 1 152 45 is_stmt 0 view .LVU479
 2332 0024 94ED217A 		vldr.32	s14, [r4, #132]
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2333              		.loc 1 152 32 view .LVU480
 2334 0028 DFEDC07A 		vldr.32	s15, .L124+28
 2335 002c 67EE277A 		vmul.f32	s15, s14, s15
 2336 0030 17EE900A 		vmov	r0, s15
 2337 0034 FFF7FEFF 		bl	__aeabi_f2d
 2338              	.LVL301:
 2339 0038 41EC100B 		vmov	d0, r0, r1
 2340 003c FFF7FEFF 		bl	round
 2341              	.LVL302:
 2342 0040 51EC100B 		vmov	r0, r1, d0
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2343              		.loc 1 152 8 view .LVU481
 2344 0044 2368     		ldr	r3, [r4]
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2345              		.loc 1 152 13 view .LVU482
 2346 0046 1E68     		ldr	r6, [r3]
 152:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2347              		.loc 1 152 30 view .LVU483
 2348 0048 FFF7FEFF 		bl	__aeabi_d2uiz
 2349              	.LVL303:
 2350 004c 7063     		str	r0, [r6, #52]
 153:Core/Src/motor.c ****     		m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2351              		.loc 1 153 7 is_stmt 1 view .LVU484
 153:Core/Src/motor.c ****     		m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2352              		.loc 1 153 8 is_stmt 0 view .LVU485
 2353 004e 2368     		ldr	r3, [r4]
 153:Core/Src/motor.c ****     		m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2354              		.loc 1 153 13 view .LVU486
 2355 0050 1B68     		ldr	r3, [r3]
 153:Core/Src/motor.c ****     		m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2356              		.loc 1 153 30 view .LVU487
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 51


 2357 0052 0022     		movs	r2, #0
 2358 0054 DA63     		str	r2, [r3, #60]
 2359              	.L93:
 226:Core/Src/motor.c **** }
 2360              		.loc 1 226 1 view .LVU488
 2361 0056 D0BD     		pop	{r4, r6, r7, pc}
 2362              	.LVL304:
 2363              	.L96:
 156:Core/Src/motor.c ****       	   _drive_vw(m);
 2364              		.loc 1 156 11 is_stmt 1 view .LVU489
 2365 0058 2046     		mov	r0, r4
 2366 005a FFF7FEFF 		bl	_drive_vw
 2367              	.LVL305:
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2368              		.loc 1 157 11 view .LVU490
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2369              		.loc 1 157 49 is_stmt 0 view .LVU491
 2370 005e 94ED217A 		vldr.32	s14, [r4, #132]
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2371              		.loc 1 157 36 view .LVU492
 2372 0062 DFEDB27A 		vldr.32	s15, .L124+28
 2373 0066 67EE277A 		vmul.f32	s15, s14, s15
 2374 006a 17EE900A 		vmov	r0, s15
 2375 006e FFF7FEFF 		bl	__aeabi_f2d
 2376              	.LVL306:
 2377 0072 41EC100B 		vmov	d0, r0, r1
 2378 0076 FFF7FEFF 		bl	round
 2379              	.LVL307:
 2380 007a 51EC100B 		vmov	r0, r1, d0
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2381              		.loc 1 157 12 view .LVU493
 2382 007e 2368     		ldr	r3, [r4]
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2383              		.loc 1 157 17 view .LVU494
 2384 0080 1E68     		ldr	r6, [r3]
 157:Core/Src/motor.c ****       	   m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2385              		.loc 1 157 34 view .LVU495
 2386 0082 FFF7FEFF 		bl	__aeabi_d2uiz
 2387              	.LVL308:
 2388 0086 B063     		str	r0, [r6, #56]
 158:Core/Src/motor.c ****       	   m->pwm->Instance->CCR3 = 0; // pwmv = 0
 2389              		.loc 1 158 11 is_stmt 1 view .LVU496
 158:Core/Src/motor.c ****       	   m->pwm->Instance->CCR3 = 0; // pwmv = 0
 2390              		.loc 1 158 12 is_stmt 0 view .LVU497
 2391 0088 2368     		ldr	r3, [r4]
 158:Core/Src/motor.c ****       	   m->pwm->Instance->CCR3 = 0; // pwmv = 0
 2392              		.loc 1 158 17 view .LVU498
 2393 008a 1B68     		ldr	r3, [r3]
 158:Core/Src/motor.c ****       	   m->pwm->Instance->CCR3 = 0; // pwmv = 0
 2394              		.loc 1 158 34 view .LVU499
 2395 008c 0022     		movs	r2, #0
 2396 008e DA63     		str	r2, [r3, #60]
 2397 0090 E1E7     		b	.L93
 2398              	.L118:
 161:Core/Src/motor.c ****     else if(m->angle < 120)
 2399              		.loc 1 161 10 is_stmt 1 view .LVU500
 161:Core/Src/motor.c ****     else if(m->angle < 120)
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 52


 2400              		.loc 1 161 12 is_stmt 0 view .LVU501
 2401 0092 0022     		movs	r2, #0
 2402 0094 A14B     		ldr	r3, .L124+12
 2403 0096 3046     		mov	r0, r6
 2404 0098 3946     		mov	r1, r7
 2405 009a FFF7FEFF 		bl	__aeabi_dcmplt
 2406              	.LVL309:
 2407 009e 0028     		cmp	r0, #0
 2408 00a0 3CD0     		beq	.L119
 163:Core/Src/motor.c ****         if(m->dir){
 2409              		.loc 1 163 9 is_stmt 1 view .LVU502
 163:Core/Src/motor.c ****         if(m->dir){
 2410              		.loc 1 163 13 is_stmt 0 view .LVU503
 2411 00a2 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 163:Core/Src/motor.c ****         if(m->dir){
 2412              		.loc 1 163 11 view .LVU504
 2413 00a6 E3B1     		cbz	r3, .L100
 164:Core/Src/motor.c ****             _drive_vw(m);
 2414              		.loc 1 164 13 is_stmt 1 view .LVU505
 2415 00a8 2046     		mov	r0, r4
 2416 00aa FFF7FEFF 		bl	_drive_vw
 2417              	.LVL310:
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2418              		.loc 1 165 4 view .LVU506
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2419              		.loc 1 165 42 is_stmt 0 view .LVU507
 2420 00ae 94ED217A 		vldr.32	s14, [r4, #132]
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2421              		.loc 1 165 29 view .LVU508
 2422 00b2 DFED9E7A 		vldr.32	s15, .L124+28
 2423 00b6 67EE277A 		vmul.f32	s15, s14, s15
 2424 00ba 17EE900A 		vmov	r0, s15
 2425 00be FFF7FEFF 		bl	__aeabi_f2d
 2426              	.LVL311:
 2427 00c2 41EC100B 		vmov	d0, r0, r1
 2428 00c6 FFF7FEFF 		bl	round
 2429              	.LVL312:
 2430 00ca 51EC100B 		vmov	r0, r1, d0
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2431              		.loc 1 165 5 view .LVU509
 2432 00ce 2368     		ldr	r3, [r4]
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2433              		.loc 1 165 10 view .LVU510
 2434 00d0 1E68     		ldr	r6, [r3]
 165:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2435              		.loc 1 165 27 view .LVU511
 2436 00d2 FFF7FEFF 		bl	__aeabi_d2uiz
 2437              	.LVL313:
 2438 00d6 B063     		str	r0, [r6, #56]
 166:Core/Src/motor.c **** 			m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2439              		.loc 1 166 4 is_stmt 1 view .LVU512
 166:Core/Src/motor.c **** 			m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2440              		.loc 1 166 5 is_stmt 0 view .LVU513
 2441 00d8 2368     		ldr	r3, [r4]
 166:Core/Src/motor.c **** 			m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2442              		.loc 1 166 10 view .LVU514
 2443 00da 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 53


 166:Core/Src/motor.c **** 			m->pwm->Instance->CCR3 = 0; // pwmw = 0
 2444              		.loc 1 166 27 view .LVU515
 2445 00dc 0022     		movs	r2, #0
 2446 00de DA63     		str	r2, [r3, #60]
 2447 00e0 B9E7     		b	.L93
 2448              	.L100:
 169:Core/Src/motor.c ****             _drive_uv(m);
 2449              		.loc 1 169 13 is_stmt 1 view .LVU516
 2450 00e2 2046     		mov	r0, r4
 2451 00e4 FFF7FEFF 		bl	_drive_uv
 2452              	.LVL314:
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2453              		.loc 1 170 13 view .LVU517
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2454              		.loc 1 170 51 is_stmt 0 view .LVU518
 2455 00e8 94ED217A 		vldr.32	s14, [r4, #132]
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2456              		.loc 1 170 38 view .LVU519
 2457 00ec DFED8F7A 		vldr.32	s15, .L124+28
 2458 00f0 67EE277A 		vmul.f32	s15, s14, s15
 2459 00f4 17EE900A 		vmov	r0, s15
 2460 00f8 FFF7FEFF 		bl	__aeabi_f2d
 2461              	.LVL315:
 2462 00fc 41EC100B 		vmov	d0, r0, r1
 2463 0100 FFF7FEFF 		bl	round
 2464              	.LVL316:
 2465 0104 51EC100B 		vmov	r0, r1, d0
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2466              		.loc 1 170 14 view .LVU520
 2467 0108 2368     		ldr	r3, [r4]
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2468              		.loc 1 170 19 view .LVU521
 2469 010a 1E68     		ldr	r6, [r3]
 170:Core/Src/motor.c ****             m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2470              		.loc 1 170 36 view .LVU522
 2471 010c FFF7FEFF 		bl	__aeabi_d2uiz
 2472              	.LVL317:
 2473 0110 B063     		str	r0, [r6, #56]
 171:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = 0; // pwmu= 0
 2474              		.loc 1 171 13 is_stmt 1 view .LVU523
 171:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = 0; // pwmu= 0
 2475              		.loc 1 171 14 is_stmt 0 view .LVU524
 2476 0112 2368     		ldr	r3, [r4]
 171:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = 0; // pwmu= 0
 2477              		.loc 1 171 19 view .LVU525
 2478 0114 1B68     		ldr	r3, [r3]
 171:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = 0; // pwmu= 0
 2479              		.loc 1 171 36 view .LVU526
 2480 0116 0022     		movs	r2, #0
 2481 0118 5A63     		str	r2, [r3, #52]
 2482 011a 9CE7     		b	.L93
 2483              	.L119:
 174:Core/Src/motor.c ****     else if(m->angle < 180)
 2484              		.loc 1 174 10 is_stmt 1 view .LVU527
 174:Core/Src/motor.c ****     else if(m->angle < 180)
 2485              		.loc 1 174 12 is_stmt 0 view .LVU528
 2486 011c 0022     		movs	r2, #0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 54


 2487 011e 804B     		ldr	r3, .L124+16
 2488 0120 3046     		mov	r0, r6
 2489 0122 3946     		mov	r1, r7
 2490 0124 FFF7FEFF 		bl	__aeabi_dcmplt
 2491              	.LVL318:
 2492 0128 0028     		cmp	r0, #0
 2493 012a 3CD0     		beq	.L120
 176:Core/Src/motor.c ****         if(m->dir){
 2494              		.loc 1 176 9 is_stmt 1 view .LVU529
 176:Core/Src/motor.c ****         if(m->dir){
 2495              		.loc 1 176 13 is_stmt 0 view .LVU530
 2496 012c 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 176:Core/Src/motor.c ****         if(m->dir){
 2497              		.loc 1 176 11 view .LVU531
 2498 0130 E3B1     		cbz	r3, .L103
 177:Core/Src/motor.c ****             _drive_uv(m);
 2499              		.loc 1 177 13 is_stmt 1 view .LVU532
 2500 0132 2046     		mov	r0, r4
 2501 0134 FFF7FEFF 		bl	_drive_uv
 2502              	.LVL319:
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2503              		.loc 1 178 4 view .LVU533
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2504              		.loc 1 178 42 is_stmt 0 view .LVU534
 2505 0138 94ED217A 		vldr.32	s14, [r4, #132]
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2506              		.loc 1 178 29 view .LVU535
 2507 013c DFED7B7A 		vldr.32	s15, .L124+28
 2508 0140 67EE277A 		vmul.f32	s15, s14, s15
 2509 0144 17EE900A 		vmov	r0, s15
 2510 0148 FFF7FEFF 		bl	__aeabi_f2d
 2511              	.LVL320:
 2512 014c 41EC100B 		vmov	d0, r0, r1
 2513 0150 FFF7FEFF 		bl	round
 2514              	.LVL321:
 2515 0154 51EC100B 		vmov	r0, r1, d0
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2516              		.loc 1 178 5 view .LVU536
 2517 0158 2368     		ldr	r3, [r4]
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2518              		.loc 1 178 10 view .LVU537
 2519 015a 1E68     		ldr	r6, [r3]
 178:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2520              		.loc 1 178 27 view .LVU538
 2521 015c FFF7FEFF 		bl	__aeabi_d2uiz
 2522              	.LVL322:
 2523 0160 B063     		str	r0, [r6, #56]
 179:Core/Src/motor.c **** 			m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2524              		.loc 1 179 4 is_stmt 1 view .LVU539
 179:Core/Src/motor.c **** 			m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2525              		.loc 1 179 5 is_stmt 0 view .LVU540
 2526 0162 2368     		ldr	r3, [r4]
 179:Core/Src/motor.c **** 			m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2527              		.loc 1 179 10 view .LVU541
 2528 0164 1B68     		ldr	r3, [r3]
 179:Core/Src/motor.c **** 			m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2529              		.loc 1 179 27 view .LVU542
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 55


 2530 0166 0022     		movs	r2, #0
 2531 0168 5A63     		str	r2, [r3, #52]
 2532 016a 74E7     		b	.L93
 2533              	.L103:
 182:Core/Src/motor.c ****        	   _drive_wu(m);
 2534              		.loc 1 182 12 is_stmt 1 view .LVU543
 2535 016c 2046     		mov	r0, r4
 2536 016e FFF7FEFF 		bl	_drive_wu
 2537              	.LVL323:
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2538              		.loc 1 183 10 view .LVU544
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2539              		.loc 1 183 48 is_stmt 0 view .LVU545
 2540 0172 94ED217A 		vldr.32	s14, [r4, #132]
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2541              		.loc 1 183 35 view .LVU546
 2542 0176 DFED6D7A 		vldr.32	s15, .L124+28
 2543 017a 67EE277A 		vmul.f32	s15, s14, s15
 2544 017e 17EE900A 		vmov	r0, s15
 2545 0182 FFF7FEFF 		bl	__aeabi_f2d
 2546              	.LVL324:
 2547 0186 41EC100B 		vmov	d0, r0, r1
 2548 018a FFF7FEFF 		bl	round
 2549              	.LVL325:
 2550 018e 51EC100B 		vmov	r0, r1, d0
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2551              		.loc 1 183 11 view .LVU547
 2552 0192 2368     		ldr	r3, [r4]
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2553              		.loc 1 183 16 view .LVU548
 2554 0194 1E68     		ldr	r6, [r3]
 183:Core/Src/motor.c ****       			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2555              		.loc 1 183 33 view .LVU549
 2556 0196 FFF7FEFF 		bl	__aeabi_d2uiz
 2557              	.LVL326:
 2558 019a F063     		str	r0, [r6, #60]
 184:Core/Src/motor.c ****       			m->pwm->Instance->CCR1 = 0; // pwmw = 0
 2559              		.loc 1 184 10 is_stmt 1 view .LVU550
 184:Core/Src/motor.c ****       			m->pwm->Instance->CCR1 = 0; // pwmw = 0
 2560              		.loc 1 184 11 is_stmt 0 view .LVU551
 2561 019c 2368     		ldr	r3, [r4]
 184:Core/Src/motor.c ****       			m->pwm->Instance->CCR1 = 0; // pwmw = 0
 2562              		.loc 1 184 16 view .LVU552
 2563 019e 1B68     		ldr	r3, [r3]
 184:Core/Src/motor.c ****       			m->pwm->Instance->CCR1 = 0; // pwmw = 0
 2564              		.loc 1 184 33 view .LVU553
 2565 01a0 0022     		movs	r2, #0
 2566 01a2 5A63     		str	r2, [r3, #52]
 2567 01a4 57E7     		b	.L93
 2568              	.L120:
 187:Core/Src/motor.c ****     else if(m->angle < 240)
 2569              		.loc 1 187 10 is_stmt 1 view .LVU554
 187:Core/Src/motor.c ****     else if(m->angle < 240)
 2570              		.loc 1 187 12 is_stmt 0 view .LVU555
 2571 01a6 0022     		movs	r2, #0
 2572 01a8 5E4B     		ldr	r3, .L124+20
 2573 01aa 3046     		mov	r0, r6
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 56


 2574 01ac 3946     		mov	r1, r7
 2575 01ae FFF7FEFF 		bl	__aeabi_dcmplt
 2576              	.LVL327:
 2577 01b2 0028     		cmp	r0, #0
 2578 01b4 3CD0     		beq	.L121
 189:Core/Src/motor.c ****     	if(m->dir){
 2579              		.loc 1 189 6 is_stmt 1 view .LVU556
 189:Core/Src/motor.c ****     	if(m->dir){
 2580              		.loc 1 189 10 is_stmt 0 view .LVU557
 2581 01b6 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 189:Core/Src/motor.c ****     	if(m->dir){
 2582              		.loc 1 189 8 view .LVU558
 2583 01ba E3B1     		cbz	r3, .L106
 190:Core/Src/motor.c ****     		_drive_wu(m);  // pwmu = dutycycle
 2584              		.loc 1 190 7 is_stmt 1 view .LVU559
 2585 01bc 2046     		mov	r0, r4
 2586 01be FFF7FEFF 		bl	_drive_wu
 2587              	.LVL328:
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2588              		.loc 1 191 10 view .LVU560
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2589              		.loc 1 191 48 is_stmt 0 view .LVU561
 2590 01c2 94ED217A 		vldr.32	s14, [r4, #132]
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2591              		.loc 1 191 35 view .LVU562
 2592 01c6 DFED597A 		vldr.32	s15, .L124+28
 2593 01ca 67EE277A 		vmul.f32	s15, s14, s15
 2594 01ce 17EE900A 		vmov	r0, s15
 2595 01d2 FFF7FEFF 		bl	__aeabi_f2d
 2596              	.LVL329:
 2597 01d6 41EC100B 		vmov	d0, r0, r1
 2598 01da FFF7FEFF 		bl	round
 2599              	.LVL330:
 2600 01de 51EC100B 		vmov	r0, r1, d0
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2601              		.loc 1 191 11 view .LVU563
 2602 01e2 2368     		ldr	r3, [r4]
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2603              		.loc 1 191 16 view .LVU564
 2604 01e4 1E68     		ldr	r6, [r3]
 191:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2605              		.loc 1 191 33 view .LVU565
 2606 01e6 FFF7FEFF 		bl	__aeabi_d2uiz
 2607              	.LVL331:
 2608 01ea F063     		str	r0, [r6, #60]
 192:Core/Src/motor.c ****     	    m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2609              		.loc 1 192 10 is_stmt 1 view .LVU566
 192:Core/Src/motor.c ****     	    m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2610              		.loc 1 192 11 is_stmt 0 view .LVU567
 2611 01ec 2368     		ldr	r3, [r4]
 192:Core/Src/motor.c ****     	    m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2612              		.loc 1 192 16 view .LVU568
 2613 01ee 1B68     		ldr	r3, [r3]
 192:Core/Src/motor.c ****     	    m->pwm->Instance->CCR1 = 0; // pwmu = 0
 2614              		.loc 1 192 33 view .LVU569
 2615 01f0 0022     		movs	r2, #0
 2616 01f2 5A63     		str	r2, [r3, #52]
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 57


 2617 01f4 2FE7     		b	.L93
 2618              	.L106:
 195:Core/Src/motor.c ****             _drive_vw(m);
 2619              		.loc 1 195 13 is_stmt 1 view .LVU570
 2620 01f6 2046     		mov	r0, r4
 2621 01f8 FFF7FEFF 		bl	_drive_vw
 2622              	.LVL332:
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2623              		.loc 1 196 5 view .LVU571
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2624              		.loc 1 196 43 is_stmt 0 view .LVU572
 2625 01fc 94ED217A 		vldr.32	s14, [r4, #132]
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2626              		.loc 1 196 30 view .LVU573
 2627 0200 DFED4A7A 		vldr.32	s15, .L124+28
 2628 0204 67EE277A 		vmul.f32	s15, s14, s15
 2629 0208 17EE900A 		vmov	r0, s15
 2630 020c FFF7FEFF 		bl	__aeabi_f2d
 2631              	.LVL333:
 2632 0210 41EC100B 		vmov	d0, r0, r1
 2633 0214 FFF7FEFF 		bl	round
 2634              	.LVL334:
 2635 0218 51EC100B 		vmov	r0, r1, d0
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2636              		.loc 1 196 6 view .LVU574
 2637 021c 2368     		ldr	r3, [r4]
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2638              		.loc 1 196 11 view .LVU575
 2639 021e 1E68     		ldr	r6, [r3]
 196:Core/Src/motor.c ****  			m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmv = dutycycle
 2640              		.loc 1 196 28 view .LVU576
 2641 0220 FFF7FEFF 		bl	__aeabi_d2uiz
 2642              	.LVL335:
 2643 0224 F063     		str	r0, [r6, #60]
 197:Core/Src/motor.c ****  			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2644              		.loc 1 197 5 is_stmt 1 view .LVU577
 197:Core/Src/motor.c ****  			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2645              		.loc 1 197 6 is_stmt 0 view .LVU578
 2646 0226 2368     		ldr	r3, [r4]
 197:Core/Src/motor.c ****  			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2647              		.loc 1 197 11 view .LVU579
 2648 0228 1B68     		ldr	r3, [r3]
 197:Core/Src/motor.c ****  			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2649              		.loc 1 197 28 view .LVU580
 2650 022a 0022     		movs	r2, #0
 2651 022c 9A63     		str	r2, [r3, #56]
 2652 022e 12E7     		b	.L93
 2653              	.L121:
 200:Core/Src/motor.c ****     else if(m->angle < 300)
 2654              		.loc 1 200 10 is_stmt 1 view .LVU581
 200:Core/Src/motor.c ****     else if(m->angle < 300)
 2655              		.loc 1 200 12 is_stmt 0 view .LVU582
 2656 0230 37A3     		adr	r3, .L124
 2657 0232 D3E90023 		ldrd	r2, [r3]
 2658 0236 3046     		mov	r0, r6
 2659 0238 3946     		mov	r1, r7
 2660 023a FFF7FEFF 		bl	__aeabi_dcmplt
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 58


 2661              	.LVL336:
 2662 023e 0028     		cmp	r0, #0
 2663 0240 3CD0     		beq	.L122
 202:Core/Src/motor.c ****     	if(m->dir){
 2664              		.loc 1 202 6 is_stmt 1 view .LVU583
 202:Core/Src/motor.c ****     	if(m->dir){
 2665              		.loc 1 202 10 is_stmt 0 view .LVU584
 2666 0242 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 202:Core/Src/motor.c ****     	if(m->dir){
 2667              		.loc 1 202 8 view .LVU585
 2668 0246 E3B1     		cbz	r3, .L109
 203:Core/Src/motor.c ****     	    _drive_vw(m);
 2669              		.loc 1 203 10 is_stmt 1 view .LVU586
 2670 0248 2046     		mov	r0, r4
 2671 024a FFF7FEFF 		bl	_drive_vw
 2672              	.LVL337:
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2673              		.loc 1 204 10 view .LVU587
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2674              		.loc 1 204 48 is_stmt 0 view .LVU588
 2675 024e 94ED217A 		vldr.32	s14, [r4, #132]
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2676              		.loc 1 204 35 view .LVU589
 2677 0252 DFED367A 		vldr.32	s15, .L124+28
 2678 0256 67EE277A 		vmul.f32	s15, s14, s15
 2679 025a 17EE900A 		vmov	r0, s15
 2680 025e FFF7FEFF 		bl	__aeabi_f2d
 2681              	.LVL338:
 2682 0262 41EC100B 		vmov	d0, r0, r1
 2683 0266 FFF7FEFF 		bl	round
 2684              	.LVL339:
 2685 026a 51EC100B 		vmov	r0, r1, d0
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2686              		.loc 1 204 11 view .LVU590
 2687 026e 2368     		ldr	r3, [r4]
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2688              		.loc 1 204 16 view .LVU591
 2689 0270 1E68     		ldr	r6, [r3]
 204:Core/Src/motor.c ****     	    m->pwm->Instance->CCR3 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2690              		.loc 1 204 33 view .LVU592
 2691 0272 FFF7FEFF 		bl	__aeabi_d2uiz
 2692              	.LVL340:
 2693 0276 F063     		str	r0, [r6, #60]
 205:Core/Src/motor.c ****     	    m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2694              		.loc 1 205 10 is_stmt 1 view .LVU593
 205:Core/Src/motor.c ****     	    m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2695              		.loc 1 205 11 is_stmt 0 view .LVU594
 2696 0278 2368     		ldr	r3, [r4]
 205:Core/Src/motor.c ****     	    m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2697              		.loc 1 205 16 view .LVU595
 2698 027a 1B68     		ldr	r3, [r3]
 205:Core/Src/motor.c ****     	    m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2699              		.loc 1 205 33 view .LVU596
 2700 027c 0022     		movs	r2, #0
 2701 027e 9A63     		str	r2, [r3, #56]
 2702 0280 E9E6     		b	.L93
 2703              	.L109:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 59


 208:Core/Src/motor.c ****     		_drive_uv(m);
 2704              		.loc 1 208 7 is_stmt 1 view .LVU597
 2705 0282 2046     		mov	r0, r4
 2706 0284 FFF7FEFF 		bl	_drive_uv
 2707              	.LVL341:
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2708              		.loc 1 209 7 view .LVU598
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2709              		.loc 1 209 45 is_stmt 0 view .LVU599
 2710 0288 94ED217A 		vldr.32	s14, [r4, #132]
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2711              		.loc 1 209 32 view .LVU600
 2712 028c DFED277A 		vldr.32	s15, .L124+28
 2713 0290 67EE277A 		vmul.f32	s15, s14, s15
 2714 0294 17EE900A 		vmov	r0, s15
 2715 0298 FFF7FEFF 		bl	__aeabi_f2d
 2716              	.LVL342:
 2717 029c 41EC100B 		vmov	d0, r0, r1
 2718 02a0 FFF7FEFF 		bl	round
 2719              	.LVL343:
 2720 02a4 51EC100B 		vmov	r0, r1, d0
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2721              		.loc 1 209 8 view .LVU601
 2722 02a8 2368     		ldr	r3, [r4]
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2723              		.loc 1 209 13 view .LVU602
 2724 02aa 1E68     		ldr	r6, [r3]
 209:Core/Src/motor.c ****     		m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2725              		.loc 1 209 30 view .LVU603
 2726 02ac FFF7FEFF 		bl	__aeabi_d2uiz
 2727              	.LVL344:
 2728 02b0 7063     		str	r0, [r6, #52]
 210:Core/Src/motor.c ****    			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2729              		.loc 1 210 7 is_stmt 1 view .LVU604
 210:Core/Src/motor.c ****    			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2730              		.loc 1 210 8 is_stmt 0 view .LVU605
 2731 02b2 2368     		ldr	r3, [r4]
 210:Core/Src/motor.c ****    			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2732              		.loc 1 210 13 view .LVU606
 2733 02b4 1B68     		ldr	r3, [r3]
 210:Core/Src/motor.c ****    			m->pwm->Instance->CCR2 = 0; // pwmw = 0
 2734              		.loc 1 210 30 view .LVU607
 2735 02b6 0022     		movs	r2, #0
 2736 02b8 9A63     		str	r2, [r3, #56]
 2737 02ba CCE6     		b	.L93
 2738              	.L122:
 213:Core/Src/motor.c ****     else if(m->angle < 360)
 2739              		.loc 1 213 10 is_stmt 1 view .LVU608
 213:Core/Src/motor.c ****     else if(m->angle < 360)
 2740              		.loc 1 213 12 is_stmt 0 view .LVU609
 2741 02bc 0022     		movs	r2, #0
 2742 02be 1A4B     		ldr	r3, .L124+24
 2743 02c0 3046     		mov	r0, r6
 2744 02c2 3946     		mov	r1, r7
 2745 02c4 FFF7FEFF 		bl	__aeabi_dcmplt
 2746              	.LVL345:
 2747 02c8 0028     		cmp	r0, #0
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 60


 2748 02ca 3FF4C4AE 		beq	.L93
 215:Core/Src/motor.c ****     	if(m->dir){
 2749              		.loc 1 215 6 is_stmt 1 view .LVU610
 215:Core/Src/motor.c ****     	if(m->dir){
 2750              		.loc 1 215 10 is_stmt 0 view .LVU611
 2751 02ce 94F89F30 		ldrb	r3, [r4, #159]	@ zero_extendqisi2
 215:Core/Src/motor.c ****     	if(m->dir){
 2752              		.loc 1 215 8 view .LVU612
 2753 02d2 6BB3     		cbz	r3, .L111
 216:Core/Src/motor.c ****             _drive_uv(m);
 2754              		.loc 1 216 13 is_stmt 1 view .LVU613
 2755 02d4 2046     		mov	r0, r4
 2756 02d6 FFF7FEFF 		bl	_drive_uv
 2757              	.LVL346:
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2758              		.loc 1 217 13 view .LVU614
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2759              		.loc 1 217 51 is_stmt 0 view .LVU615
 2760 02da 94ED217A 		vldr.32	s14, [r4, #132]
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2761              		.loc 1 217 38 view .LVU616
 2762 02de DFED137A 		vldr.32	s15, .L124+28
 2763 02e2 67EE277A 		vmul.f32	s15, s14, s15
 2764 02e6 17EE900A 		vmov	r0, s15
 2765 02ea FFF7FEFF 		bl	__aeabi_f2d
 2766              	.LVL347:
 2767 02ee 41EC100B 		vmov	d0, r0, r1
 2768 02f2 FFF7FEFF 		bl	round
 2769              	.LVL348:
 2770 02f6 51EC100B 		vmov	r0, r1, d0
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2771              		.loc 1 217 14 view .LVU617
 2772 02fa 2368     		ldr	r3, [r4]
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2773              		.loc 1 217 19 view .LVU618
 2774 02fc 1E68     		ldr	r6, [r3]
 217:Core/Src/motor.c ****             m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmu = dutycycle
 2775              		.loc 1 217 36 view .LVU619
 2776 02fe FFF7FEFF 		bl	__aeabi_d2uiz
 2777              	.LVL349:
 2778 0302 7063     		str	r0, [r6, #52]
 218:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2779              		.loc 1 218 4 is_stmt 1 view .LVU620
 218:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2780              		.loc 1 218 5 is_stmt 0 view .LVU621
 2781 0304 2368     		ldr	r3, [r4]
 218:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2782              		.loc 1 218 10 view .LVU622
 2783 0306 1B68     		ldr	r3, [r3]
 218:Core/Src/motor.c **** 			m->pwm->Instance->CCR2 = 0; // pwmv = 0
 2784              		.loc 1 218 27 view .LVU623
 2785 0308 0022     		movs	r2, #0
 2786 030a 9A63     		str	r2, [r3, #56]
 2787 030c A3E6     		b	.L93
 2788              	.L125:
 2789 030e 00BF     		.align	3
 2790              	.L124:
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 61


 2791 0310 00000000 		.word	0
 2792 0314 00C07240 		.word	1081262080
 2793 0318 00004E40 		.word	1078853632
 2794 031c 00005E40 		.word	1079902208
 2795 0320 00806640 		.word	1080459264
 2796 0324 00006E40 		.word	1080950784
 2797 0328 00807640 		.word	1081507840
 2798 032c 00007F43 		.word	1132396544
 2799              	.L111:
 221:Core/Src/motor.c ****      	   _drive_wu(m);  // pwmu = dutycycle
 2800              		.loc 1 221 10 is_stmt 1 view .LVU624
 2801 0330 2046     		mov	r0, r4
 2802 0332 FFF7FEFF 		bl	_drive_wu
 2803              	.LVL350:
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2804              		.loc 1 222 10 view .LVU625
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2805              		.loc 1 222 48 is_stmt 0 view .LVU626
 2806 0336 94ED217A 		vldr.32	s14, [r4, #132]
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2807              		.loc 1 222 35 view .LVU627
 2808 033a 5FED047A 		vldr.32	s15, .L124+28
 2809 033e 67EE277A 		vmul.f32	s15, s14, s15
 2810 0342 17EE900A 		vmov	r0, s15
 2811 0346 FFF7FEFF 		bl	__aeabi_f2d
 2812              	.LVL351:
 2813 034a 41EC100B 		vmov	d0, r0, r1
 2814 034e FFF7FEFF 		bl	round
 2815              	.LVL352:
 2816 0352 51EC100B 		vmov	r0, r1, d0
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2817              		.loc 1 222 11 view .LVU628
 2818 0356 2368     		ldr	r3, [r4]
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2819              		.loc 1 222 16 view .LVU629
 2820 0358 1E68     		ldr	r6, [r3]
 222:Core/Src/motor.c ****      	   m->pwm->Instance->CCR1 = round(255 * m->dutyCycle); // pwmw = dutycycle
 2821              		.loc 1 222 33 view .LVU630
 2822 035a FFF7FEFF 		bl	__aeabi_d2uiz
 2823              	.LVL353:
 2824 035e 7063     		str	r0, [r6, #52]
 223:Core/Src/motor.c ****      	   m->pwm->Instance->CCR3 = 0; // pwmu = 0
 2825              		.loc 1 223 10 is_stmt 1 view .LVU631
 223:Core/Src/motor.c ****      	   m->pwm->Instance->CCR3 = 0; // pwmu = 0
 2826              		.loc 1 223 11 is_stmt 0 view .LVU632
 2827 0360 2368     		ldr	r3, [r4]
 223:Core/Src/motor.c ****      	   m->pwm->Instance->CCR3 = 0; // pwmu = 0
 2828              		.loc 1 223 16 view .LVU633
 2829 0362 1B68     		ldr	r3, [r3]
 223:Core/Src/motor.c ****      	   m->pwm->Instance->CCR3 = 0; // pwmu = 0
 2830              		.loc 1 223 33 view .LVU634
 2831 0364 0022     		movs	r2, #0
 2832 0366 DA63     		str	r2, [r3, #60]
 226:Core/Src/motor.c **** }
 2833              		.loc 1 226 1 view .LVU635
 2834 0368 75E6     		b	.L93
 2835              		.cfi_endproc
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 62


 2836              	.LFE337:
 2838              		.global	CURRENT_FILTER_CONST
 2839              		.section	.data.CURRENT_FILTER_CONST,"aw"
 2840              		.align	2
 2843              	CURRENT_FILTER_CONST:
 2844 0000 0060EA45 		.word	1172987904
 2845              		.text
 2846              	.Letext0:
 2847              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-m
 2848              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-m
 2849              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g431xx.h"
 2850              		.file 5 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 2851              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 2852              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 2853              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_adc.h"
 2854              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_spi.h"
 2855              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_tim.h"
 2856              		.file 11 "Core/Inc/motor.h"
 2857              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_gpio.h"
 2858              		.file 13 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2859              		.file 14 "<built-in>"
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 63


DEFINED SYMBOLS
                            *ABS*:00000000 motor.c
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:18     .text.readEncoder:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:26     .text.readEncoder:00000000 readEncoder
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:64     .text.readHalls:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:71     .text.readHalls:00000000 readHalls
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:128    .text.readHalls:00000034 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:134    .text.readHalls:0000003a $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:222    .text.readHalls:000000a8 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:232    .text.getAngle:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:239    .text.getAngle:00000000 getAngle
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:261    .text._adcHandler:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:268    .text._adcHandler:00000000 _adcHandler
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:318    .text._adcHandler:00000058 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:327    .text.MOTOR_init:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:334    .text.MOTOR_init:00000000 MOTOR_init
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:482    .text.MOTOR_init:000000cc $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:488    .text.MOTOR_updateShaftAngle:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:495    .text.MOTOR_updateShaftAngle:00000000 MOTOR_updateShaftAngle
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:525    .text.MOTOR_getCurrent:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:532    .text.MOTOR_getCurrent:00000000 MOTOR_getCurrent
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:548    .text._adcSelU:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:555    .text._adcSelU:00000000 _adcSelU
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:619    .text._adcSelU:0000002c $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:624    .text._adcSelV:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:631    .text._adcSelV:00000000 _adcSelV
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:695    .text._adcSelV:0000002c $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:700    .text._adcSelW:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:707    .text._adcSelW:00000000 _adcSelW
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:771    .text._adcSelW:0000002c $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:782    .text.MOTOR_SVPWMtask:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:789    .text.MOTOR_SVPWMtask:00000000 MOTOR_SVPWMtask
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1160   .text.MOTOR_SVPWMtask:00000270 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1179   .text.MOTOR_SVPWMtask:000002ac $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1361   .text.MOTOR_SVPWMtask:00000400 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1375   .text.MOTOR_FOCtask:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1382   .text.MOTOR_FOCtask:00000000 MOTOR_FOCtask
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1887   .text.MOTOR_FOCtask:00000340 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1907   .text.MOTOR_FOCtask:00000380 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1990   .text.MOTOR_FOCtask:00000408 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:1996   .text._drive_u:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2003   .text._drive_u:00000000 _drive_u
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2044   .text._drive_v:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2051   .text._drive_v:00000000 _drive_v
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2092   .text._drive_w:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2099   .text._drive_w:00000000 _drive_w
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2140   .text._drive_uv:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2147   .text._drive_uv:00000000 _drive_uv
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2188   .text._drive_vw:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2195   .text._drive_vw:00000000 _drive_vw
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2236   .text._drive_wu:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2243   .text._drive_wu:00000000 _drive_wu
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2284   .text.MOTOR_task:00000000 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2291   .text.MOTOR_task:00000000 MOTOR_task
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2791   .text.MOTOR_task:00000310 $d
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2801   .text.MOTOR_task:00000330 $t
C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2843   .data.CURRENT_FILTER_CONST:00000000 CURRENT_FILTER_CONST
ARM GAS  C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s 			page 64


C:\Users\LDegr\AppData\Local\Temp\ccMMI9Rg.s:2840   .data.CURRENT_FILTER_CONST:00000000 $d

UNDEFINED SYMBOLS
HAL_SPI_Receive
HAL_GPIO_ReadPin
__aeabi_f2d
__aeabi_d2uiz
HAL_TIM_PWM_Start
HAL_GPIO_WritePin
round
__aeabi_i2d
memset
HAL_ADC_ConfigChannel
Error_Handler
__aeabi_ui2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2f
__aeabi_dadd
__aeabi_dsub
HAL_ADC_Start
HAL_ADC_PollForConversion
HAL_ADC_GetValue
HAL_ADC_Stop
sin
__aeabi_dcmplt
__aeabi_dcmpgt
cos
